% Template LaTeX document for CSSR4Africa Deliverables
% Adapted from documents prepared by EPFL for the RobotCub project
% and subsequently by the University of Sk√∂vde for the DREAM project
%
% DV 28/06/2023

\documentclass{CSSRforAfrica}

\usepackage[hidelinks,colorlinks=false]{hyperref}
\usepackage[titletoc,title]{appendix}
\usepackage{latexsym}

\usepackage{ragged2e}
\usepackage{dirtree}
\usepackage{listings}
\usepackage{textcomp}
\usepackage{multicol}
\usepackage{cprotect}
\usepackage{xcolor}
%\usepackage[normalem]{ulem}
%\usepackage{verbatim} % for comments
%\usepackage{datetime}
\usepackage{pifont}
\usepackage[hidelinks,colorlinks=false]{hyperref}
\usepackage[titletoc,title]{appendix}
\usepackage{latexsym}


\newcommand{\blank}{~\\}
\newcommand{\checkbox}{{~~~~~~~\leavevmode \put(-7,-1.5){  \huge $\Box$  }}}

\newcommand{\checkboxChecked}{\fbox{\ding{51}}} % Box with check mark
\newcommand{\checkboxCrossed}{\fbox{\ding{55}}} % Box with cross mark
\newcommand{\checkboxDashed}{\fbox{--}}         % Box with dash mark

\begin{document}
\input{epsf}

%%
%% SHOULD NOT NEED TO BE CHANGED BEFORE THIS POINT
%% ------------------------------------------------
%%

\deliverable{D3.5}                    
\title{D3.5 System Integration and Quality Assurance}

\leadpartner{Carnegie Mellon University Africa}                         
\partner{}                          

\revision{1.2}                  
\deliverabledate{30/06/2024}    
\submissiondate{25/07/2024}   
\revisiondate{30/06/2025}   
\disseminationlevel{PU}
\responsible{D. Vernon }            


%%
%% Create the titlepage
%%

\maketitle
 

\subsection*{Executive Summary}
%===============================================================
\label{executive_summary}
\addcontentsline{toc}{section}{Executive Summary}



\noindent Deliverable D3.5 represents the outcome of Task 3.5 and highlights the progress in integrating the software modules critical to the system's development. This deliverable comprises the integration results for all submitted software modules, as well as their corresponding unit test outcomes. The results are based on a checklist designed to assess functionality, performance, and compliance with the system's overall requirements.

%\noindent The following software modules have been submitted for integration:
%\begin{description}
%    \item[D4.1] Sensor Tests
%    \item[D4.2.1] Person Detection and Localization
%    \item[D4.2.2] Face \& Mutual Gaze Detection and Localization
%    \item[D4.2.3] Sound Detection and Localization
%    \item[D4.3.2] Speech Event
%    \item[D5.1] Actuator Tests
%    \item[D5.2] Animate Behavior Subsystem
%    \item[D5.3] Attention Subsystem
%    \item[D5.4.3] Robot Mission Interpreter
%    \item[D5.5.1.1] Gesture Execution
%    \item[D5.5.1.2] Programming by Demonstration
%    \item[D5.5.2.4] Integrated Text to Speech Conversion
%    \item[D5.5.3] Environment Map Generation
%    \item[D5.5.4] Robot Navigation
%\end{description}

\noindent Each software's integration process and unit test results are documented in dedicated subsections within the report, where the corresponding checklist details what was tested for and the results achieved.
The following software modules successfully passed the integration tests, meeting all functional requirements and proving their readiness for system deployment:
\begin{description}
    \item[D4.2.1] Person Detection and Localization
    \item[D4.2.2] Face \& Mutual Gaze Detection and Localization
    \item[D4.2.3] Sound Detection and Localization
    \item[D4.3.2] Speech Event
    \item[D5.2] Animate Behavior Subsystem
    \item[D5.3] Attention Subsystem
    \item[D5.4.3] Robot Mission Interpreter
    \item[D5.5.1.1] Gesture Execution
    \item[D5.5.3] Environment Map Generation
\end{description}

%\noindent The following software module is still undergoing integration. Ongoing efforts are focused on addressing outstanding issues to align it with the system's operational expectations.
%\begin{description}
%     \item[D4.1] Sensor Tests
%    \item[D5.1] Actuator Tests
%    \item[D5.5.1.2] Programming by Demonstration
%    \item[D5.5.2.4] Integrated Text to Speech Conversion
%    \item[D5.5.4] Robot Navigation
%\end{description}


\noindent The checklist used in the integration process evaluates the modules against predefined rubrics for functionality and alignment with the software engineering standards set out for the CSSR4Africa project. Each test is marked as passed (\checkboxChecked), failed (\checkboxCrossed), or not applicable (\checkboxDashed) based on the specific characteristics of the software. 

\noindent Software modules which pass the integration process have all tests either marked as passed (\checkboxChecked) or not applicable (\checkboxDashed), depending on the applicability
%, while the software modules which fail the integration process have at leats one test  marked as failed (\checkboxCrossed).  
The current integration process prioritizes functionality of the software on the physical robot over the simulator robot.


\newpage
 
 
%\graphicspath{{./figs/}}
\pagebreak
\tableofcontents
\newpage

\section{D4.2.1 Person Detection and Localization} 
%%%%%%%%%%Face Detection
\subsection{Person Detection} 
%===========================================
\label{subsection:person_detection}

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{person\_detection}.

\item[\checkboxChecked] The \textbf{person\_detection} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+models+}, {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_configuration.json+}  
\item[\checkboxChecked] The configuration file {\small \verb+person_detection_configuration.json+} contains the key-value pairs that set the component parameters.  (The config file do not match what is stated in the workplan/system architecture. May be worth either revising those documents).
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains one file, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+pepper_topics.dat+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_msg_file.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_application.py+}  
\item[\checkboxChecked]  {\small \verb+person_detection_implementation.py+}  
\item[\checkboxChecked]  {\small \verb+person_detection_tracking.py+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  no {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+cssr_system+} ROS node.
\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  a {\small \verb+person_detection_requirements_x86.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 
 \newpage
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:person_detection_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+person_detection_application.py+}  
{\small \begin{verbatim}
"""
person_detection_application.py Application code to run the 
Person Detection and Localization ROS node.

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+person_detection_implementation.py+}  
{\small \begin{verbatim}
""""
person_detection_implementation.py Implementation code for running the 
Person Detection and Localization ROS node.

Author: Yohannes Tadesse Haile
Date: April 21, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }

\newpage
\item[\checkboxChecked]  {\small \verb+person_detection_tracking.py+}  
{\small \begin{verbatim}
""""
person_detection_tracking.py Functionality for tracking people using 
SORT (simple online and realtime tracking).

Author: Yohannes Tadesse Haile
Date: April 21, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank


\noindent The {\small \verb+person_detection_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
The person detection is implemented using the ROS image topic that could be 
configured to be the intel realsense camera or pepper robot camera. 
It uses OpenCV to visualize the detected persons. The code utilizes YOLOv8 
for person detection.This code contains the main function that initializes 
the person detection node and starts the person detection algorithm. 
It subscribes to the intel realsense camera or pepper robot camera topics for 
the RGB and depth images.It publishes one topic: /personDetection/data 
that contains the person label ID, the centroid of the person, 
width and height of the bounding box.
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries
    - cv2
    - numpy
    - rospy
    - rospkg
    - os
    - onnxruntime
    - multiprocessing
    - json
    - random
    - threading
    - sensor_msgs.msg (Image, CompressedImage)
    - filterpy.kalman (KalmanFilter)
    - itertools (count)
    - cv_bridge (CvBridge, CvBridgeError)
    - message_filters (ApproximateTimeSynchronizer, Subscriber)
    - geometry_msgs.msg (Point)
    - cssr_system.msg (person_detection_msg_file)
    - person_detection_tracking (Sort)
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters 
    None
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters
    Key                                                         Value
    useCompressed                                               true
    confidence_iou_threshold                                    0.8
    sortMaxDisappeared                                          30
    sortMinHits                                                 20
    sortIouThreshold                                            0.3
    verboseMode                                                 true
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics
    Topic Name                                                  Message Type
    /camera/color/image_raw                                     sensor_msgs/
                                                                 Image
    /camera/color/image_raw/compressed                          sensor_msgs/
                                                                 CompressedImage              
    /camera/aligned_depth_to_color/image_raw                    sensor_msgs/
                                                                 Image
    /camera/aligned_depth_to_color/image_raw/compressed         sensor_msgs/
                                                                 CompressedImage
    /naoqi_driver/camera/front/image_raw                        sensor_msgs/
                                                                 Image
    /naoqi_driver/camera/depth/image_raw                        sensor_msgs/
                                                                 Image
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics
    Topic Name                                                  Message Type
    /personDetection/data                                       person_detection/
                                                  person_detection_msg_file.msg
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files
    - pepperTopics.dat: Data file for Pepper robot camera topics
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Model Files
    - person_detection_yolov8s.onnx: YOLOv8 model for object detection 
    tailored for person detection
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files
    None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File
    person_detection_configuration.json
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Example of instantiation of the module
    roslauch cssr_system person_detection_robot.launch camera:=realsense

    # Activate the python environment
    source ~/workspace/pepper_rob_ws/cssr4africa_face_person_detection_env/
    									bin/activate

    (In a new terminal)
    rosrun cssr_system person_detection_application.py
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Yohannes Tadesse Haile, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: yohanneh@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: April 21, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}

%\newpage
\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:person_detection_unit_testing}

\begin{description}

\item[\checkboxDashed] A unit test application named {\small \verb+person_detection_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+person_detection_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+person_detection_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] The {\small \verb+person_detection_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+person_detection_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+person_detection_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 personDetection v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
personDetection: start-up.
personDetection: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
personDetection: running.
\end{verbatim}}

\item[\checkboxChecked] The {\small \verb+person_detection_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+person_detection_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxDashed]   The {\small \verb+person_detection_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+person_detection+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+person_detection_configuration.ini+}) file are altered.

\end{description}

\end{description} 



%%%%%%%%%%person Detection Test
\subsection{Person Detection Unit Test} 
%===========================================
\label{subsection:person_detetction_test}


\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{person\_detection\_test}.

\item[\checkboxChecked] The \textbf{person\_detection\_test} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+launch+}, {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_test_configuration.json+}  
\item[\checkboxChecked] The configuration file {\small \verb+person_detection_test_configuration.json+} contains the key-value pairs that set the component parameters.
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains five bag files, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+person_detection_test_input_realsense_lighting_1.bag+}
\item[\checkboxChecked] {\small \verb+person_detection_test_input_realsense_lighting_2.bag+} 
\item[\checkboxChecked] {\small \verb+person_detection_test_input_realsense_multiple_people.bag+}
\item[\checkboxChecked] {\small \verb+person_detection_test_input_realsense_single_person.bag+} 
\end{description} 

\item[\checkboxChecked] The  {\small \verb+launch+} directory contains two files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_test_launch_robot.launch+}  
\item[\checkboxChecked] {\small \verb+person_detection_test_launch_test_harness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_test_msg_file.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+person_detection_test_application.py+}  
\item[\checkboxChecked]  {\small \verb+person_detection_test_implementation.py+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  no {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+person_detection+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+unit_tests+} ROS node.
\item[\checkboxDashed] The {\small \verb+person_detection+} directory contains  a {\small \verb+person_detection_requirements.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}

\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:person_detection_test_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+person_detection_test_application.py+}  
{\small \begin{verbatim}
"""
person_detection_test_application.py Application code to run the person 
detection and localization unit test.

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }

\newpage
\item[\checkboxChecked]  {\small \verb+person_detection_test_implementation.py+}  
{\small \begin{verbatim}
""""
person_detection_test_implementation.py Implementation code for running the 
Person Detection and Localization unit test.

Author: Yohannes Tadesse Haile
Date: April 25, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank

\noindent The {\small \verb+person_detection_test_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
person_detection_test_application.py  Application code to run person detection 
and localization unit test.

This person_detection_test is a unit test application code to test the person 
detection and localization algorithm. This code contains the main function that 
initializes the correct configuration parameters and tests whether person is 
detected and localized. It has also utility functions to save video and images 
with the bounding boxes. 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries
    - rospkg
    - rospy
    - os
    - json
    - numpy
    - cv2
    - time
    - threading
    - colorsys
    - sensor_msgs.msg (Image)
    - cv_bridge (CvBridge)
    - message_filters (ApproximateTimeSynchronizer, Subscriber)
    - unit_tests.msg (person_detection_test_msg_file)
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters
    Launch File Parameters:
        roslaunch unit_tests person_detection_test_launch_robot.launch 
                                              camera:=realsense
            camera: Camera type or video file (realsense or pepper or video)
            bag_file: ROS bag file for testing 
            pepper_robot_ip: Pepper robot IP address
            network_interperson: Network interperson for Pepper robot connection

        roslaunch unit_tests person_detection_test_launch_test_harness.launch
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters
    Key                                                     Value
    saveVideo                                               false
    saveImage                                               false
    videoDuration                                           10
    imageInterval                                           5
    recordingDelay                                          5
    maxFramesBuffer                                         300
    verboseMode                                             false
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics
    Topic Name                                              Message Type
    /camera/color/image_raw                                 sensor_msgs/Image             
    /camera/aligned_depth_to_color/image_raw                sensor_msgs/Image
    /naoqi_driver/camera/front/image_raw                    sensor_msgs/Image
    /naoqi_driver/camera/depth/image_raw                    sensor_msgs/Image
    /personDetection/data                                   person_detection/
                                          person_detection_test_msg_file.msg
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics
    None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files
    - pepperTopics.dat: Data file for Pepper robot camera topics
    - person_detection_test_input_realsense_single_person.bag
    - person_detection_test_input_realsense_multiple_people.bag
    - person_detection_test_input_realsense_lighting_1.bag
    - person_detection_test_input_realsense_lighting_2.bag
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files
    - person_detection_test_rgb_video_{start_time}.mp4
    - person_detection_test_depth_video_{start_time}.mp4
    - person_detection_test_rgb_image_{start_time}.png
    - person_detection_test_depth_image_{start_time}.png
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File
    person_detection_test_configuration.json
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}Example of instantiation of the module
    roslaunch unit_tests person_detection_test_launch_robot.launch 
                     camera:=video bag_file:=single_person

    (In a new terminal)
    roslaunch unit_tests person_detection_test_launch_testHarness.launch
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Yohannes Tadesse Haile, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: yohanneh@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: March 21, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}

%\newpage
\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:person_detection_test_unit_testing}

\begin{description}

\item[\checkboxChecked] A unit test application named {\small \verb+person_detection_test_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+person_detection_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] A unit test application named {\small \verb+person_detection_test_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] The {\small \verb+person_detection_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+person_detection_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxChecked] The {\small \verb+person_detection_test_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 personDetectionTest v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
personDetectionTest: start-up.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
personDetectionTest: running.
\end{verbatim}}

\item[\checkboxChecked] The {\small \verb+person_detection_test_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+person_detection_test_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked]   The {\small \verb+person_detection_test_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+person_detection+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+person_detection_configuration.ini+}) file are altered.

\end{description}

\end{description} 



\newpage

\section{D4.2.2 Face \& Mutual Gaze Detection and Localization} 
%%%%%%%%%%Face Detection
\subsection{Face Detection} 
%===========================================
\label{subsection:face_detection}

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{face\_detection}.

\item[\checkboxChecked] The \textbf{face\_detection} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+models+}, {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_configuration.json+}  
\item[\checkboxChecked] The configuration file {\small \verb+face_detection_configuration.json+} contains the key-value pairs that set the component parameters.  (The config file do not match what is stated in the workplan/system architecture. May be worth either revising those documents).
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains one file, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+pepper_topics.dat+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_msg_file.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_application.py+}  
\item[\checkboxChecked]  {\small \verb+face_detection_implementation.py+}  
\item[\checkboxChecked]  {\small \verb+face_detection_tracking.py+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  no {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+cssr_system+} ROS node.
\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  a {\small \verb+face_detection_requirements_x86.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 
 \newpage
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:face_detection_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+face_detection_application.py+}  
{\small \begin{verbatim}
"""
face_detection_application.py Application code to run the Face and Mutual 
Gaze Detection and Localization ROS node.

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+face_detection_implementation.py+}  
{\small \begin{verbatim}
""""
face_detection_implementation.py Implementation code for running the Face and 
Mutual Gaze Detection and Localization ROS node.

Author: Yohannes Tadesse Haile
Date: March 21, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }

\newpage
\item[\checkboxChecked]  {\small \verb+face_detection_tracking.py+}  
{\small \begin{verbatim}
""""
face_detection_tracking.py Functionality for tracking faces using 
SORT(simple online and realtime tracking) and Centroid Tracking.

Author: Yohannes Tadesse Haile
Date: March 21, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank


\noindent The {\small \verb+face_detection_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
face_detection_application.py   Application code to run the face and mutual gaze 
detection algorithm.

The face detection is implemented using the ROS image topic that could be 
configured to be the intel realsense camera or pepper robot camera. It uses 
OpenCV to visualize the detected faces and gaze direction. The gaze direction is 
calculated using face mesh landmarks which uses Google's MediaPipe library. The 
media pipe utilizes CPU for face detection and gaze direction. The SixDrepNet 
uses YOLOONNX for face detection and SixDrepNet for gaze direction. 
The SixDrepNet utilizes GPU for faster inference and better performance. 
This code contains the main function that initializes the face detection node 
and starts the face detection algorithm. The face detection algorithm can be 
either MediaPipe Face Detection or SixDrepNet that can be configured from the 
configuration file. It is also responsible for detecting the head pose esimation 
of the detected face. It subscribes to the intel realsense camera or pepper robot 
camera topics for the RGB and depth images. It publishes three one topic: 
/faceDetection/data that contains the face label ID, the centroid of the face, 
mutual gaze direction. 
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries
    - cv2
    - mediapipe
    - numpy
    - rospy
    - rospkg
    - os
    - onnxruntime
    - multiprocessing
    - json
    - random
    - math (cos, sin, pi)
    - sensor_msgs.msg (Image, CompressedImage)
    - cv_bridge (CvBridge, CvBridgeError)
    - message_filters (ApproximateTimeSynchronizer, Subscriber)
    - geometry_msgs.msg (Point)
    - typing (Tuple, List)
    - face_detection.msg (msg_file)
    - face_detection_tracking (Sort, CentroidTracker)
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters 
    None
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters
    Key                             Value
    algorithm                       sixdrep
    use_compressed                  true
    mp_facedet_confidence           0.5
    mp_headpose_angle               5
    centroid_max_distance           15
    centroid_max_disappeared        100
    sixdrepnet_confidence           0.65
    sixdrepnet_headpose_angle       10
    sort_max_disappeared            30
    sort_min_hits                   20
    sort_iou_threshold              0.3
    verbose_mode                    true
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics
    Topic Name                                  Message Type
    /camera/color/image_raw                     sensor_msgs/Image              
    /camera/aligned_depth_to_color/image_raw    sensor_msgs/Image
    /naoqi_driver/camera/front/image_raw        sensor_msgs/Image
    /naoqi_driver/camera/depth/image_raw        sensor_msgs/Image
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics
    Topic Name                                  Message Type
    /faceDetection/data                         face_detection/face_detection.msg
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files
    - pepperTopics.dat: Data file for Pepper robot camera topics
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Model Files
    - face_detection_YOLO.onnx: YOLOONNX model for face detection
    - face_detection_sixdrepnet360.onnx: SixDrepNet model for gaze direction
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files
    None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File
    face_detection_configuration.json
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Example of instantiation of the module
    roslauch cssr_system face_detection_robot.launch camera:=realsense

    (In a new terminal)
    rosrun cssr_system face_detection_application.py
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Yohannes Tadesse Haile, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: yohanneh@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: March 21, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:face_detection_unit_testing}

\begin{description}

\item[\checkboxDashed] A unit test application named {\small \verb+face_detection_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+face_detection_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+face_detection_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] The {\small \verb+face_detection_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+face_detection_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+face_detection_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 faceDetection v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\newpage
\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
faceDetection: start-up.
faceDetection: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
faceDetection: running.
\end{verbatim}}

\item[\checkboxDashed] The {\small \verb+face_detection_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+face_detection_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxDashed]   The {\small \verb+face_detection_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+face_detection+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+face_detection_configuration.ini+}) file are altered.

\end{description}

\end{description} 

 
 
% \newpage
%%%%%%%%%%Face Detection Test
\subsection{Face Detection Unit Test} 
%===========================================
\label{subsection:face_detetction_test}


\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{face\_detection\_test}.

\item[\checkboxChecked] The \textbf{face\_detection\_test} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+launch+}, {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_test_configuration.json+}  
\item[\checkboxChecked] The configuration file {\small \verb+face_detection_test_configuration.json+} contains the key-value pairs that set the component parameters.
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains five bag files, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+face_detection_test_input_realsense_lighting_1.bag+}
\item[\checkboxChecked] {\small \verb+face_detection_test_input_realsense_lighting_2.bag+} 
\item[\checkboxChecked] {\small \verb+face_detection_test_input_realsense_multiple_faces.bag+}
\item[\checkboxChecked] {\small \verb+face_detection_test_input_realsense_mutual_gaze.bag+} 
\item[\checkboxChecked] {\small \verb+face_detection_test_input_realsense_single_face.bag+} 
\end{description} 

\item[\checkboxChecked] The  {\small \verb+launch+} directory contains two files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_test_launch_robot.launch+}  
\item[\checkboxChecked] {\small \verb+face_detection_test_launch_test_harness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_test_msg_file.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+face_detection_test_application.py+}  
\item[\checkboxChecked]  {\small \verb+face_detection_test_implementation.py+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  no {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+face_detection+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+unit_tests+} ROS node.
\item[\checkboxDashed] The {\small \verb+face_detection+} directory contains  a {\small \verb+face_detection_requirements.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 \newpage
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:face_detection_test_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+face_detection_test_application.py+}  
{\small \begin{verbatim}
"""
face_detection_test_application.py Application code to run the Face and 
Mutual Gaze Detection and Localization Unit test.

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+face_detection_test_implementation.py+}  
{\small \begin{verbatim}
""""
face_detection_test_implementation.py Implementation code for running the 
Face and Mutual Gaze Detection and Localization unit test.

Author: Yohannes Tadesse Haile
Date: March 21, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank

\noindent The {\small \verb+face_detection_test_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
face_detection_test_application.py  Application code to run the Face and 
Mutual Gaze Detection and Localization unit test.

This face_detection_test is a unit test application code to test the face and 
mutual gaze detection algorithm. This code contains the main function that 
initializes the correct configuration parameters and tests face detection 
algorthim. It has also utility functions to save video and images with the 
bounding boxes and gaze detection. The face detection algorithm can be either 
MediaPipe Face Detection or SixDrepNet that can be configured from the 
configuration file. 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries
    - rospkg
    - rospy
    - os
    - json
    - numpy
    - cv2
    - time
    - threading
    - colorsys
    - sensor_msgs.msg (Image)
    - cv_bridge (CvBridge)
    - message_filters (ApproximateTimeSynchronizer, Subscriber)
    - face_detection_test.msg (msg_file)
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters
    Launch File Parameters:
        roslaunch unit_test face_detection_test_launch_robot.launch 
                              camera:=realsense
            camera: Camera type or video file (realsense or pepper or video)
            bag_file: ROS bag file for testing (singleFace, multipleFaces, 
                         faceTracking, mutualGaze, occlusion, lighting)
            pepper_robot_ip: Pepper robot IP address
            network_interface: Network interface for Pepper robot connection
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters
        Key                             Value
        algorithm                       sixdrep
        save_video                      false
        save_image                      false
        video_duration                  10
        image_interval                  5
        recording_delay                 5
        max_frames_buffer               300
        verbose_mode                    false
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics
    Topic Name                                  Message Type
    /camera/color/image_raw                     sensor_msgs/Image              
    /camera/aligned_depth_to_color/image_raw    sensor_msgs/Image
    /naoqi_driver/camera/front/image_raw        sensor_msgs/Image
    /naoqi_driver/camera/depth/image_raw        sensor_msgs/Image
    /faceDetection/data                         face_detection/
                                                 face_detection.msg
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics
    None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files
    - pepperTopics.dat: Data file for Pepper robot camera topics
    - face_detection_test_input_realsense_singleFace.bag
    - face_detection_test_input_realsense_multipleFaces.bag
    - face_detection_test_input_realsense_faceTracking.bag
    - face_detection_test_input_realsense_mutualGaze.bag
    - face_detection_test_input_realsense_occlusion.bag
    - face_detection_test_input_realsense_lighting.bag

\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files
    - face_detection_rgb_video_{start_time}.mp4
    - face_detection_depth_video_{start_time}.mp4
    - face_detection_rgb_image_{start_time}.png
    - face_detection_depth_image_{start_time}.png
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File
    face_detection_test_configuration.json
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Example of instantiation of the module
    roslaunch unit_test face_detection_test_launch_robot.launch 
                          camera:=video bag_file:=singleFace
    
    (In a new terminal)
    roslaunch unit_test face_detection_test_launch_testHarness.launch
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Yohannes Tadesse Haile, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: yohanneh@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: March 21, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}

\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:face_detection_test_unit_testing}

\begin{description}

\item[\checkboxChecked] A unit test application named {\small \verb+face_detection_test_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+face_detection_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] A unit test application named {\small \verb+face_detection_test_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] The {\small \verb+face_detection_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+face_detection_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxChecked] The {\small \verb+face_detection_test_launch_test_harness.launch+} file launches the component being tested.

\newpage
\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 faceDetectionTest v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
faceDetectionTest: start-up.
faceDetectionTest: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
faceDetectionTest: running.
\end{verbatim}}

\item[\checkboxChecked] The {\small \verb+face_detection_test_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+face_detection_test_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked]   The {\small \verb+face_detection_test_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+face_detection+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+face_detection_configuration.ini+}) file are altered.

\end{description}

\end{description} 



 \newpage
 \section{D4.2.3 Sound Detection and Localization} 
%%%%%%%%%%Face Detection
\subsection{Sound Detection} 
%===========================================
\label{subsection:sound_detection}


\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{sound\_detection}.

\item[\checkboxChecked] The \textbf{sound\_detection} directory has four sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_configuration.json+}  
\item[\checkboxChecked] The configuration file {\small \verb+sound_detection_configuration.json+} contains the key-value pairs that set the component parameters.  (The config file do not match what is stated in the workplan/system architecture. May be worth either revising those documents).
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains one file, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+pepper_topics.dat+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_microphone_msg_file.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_application.py+}  
\item[\checkboxChecked]  {\small \verb+sound_detection_implementation.py+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  no {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+cssr_system+} ROS node.
\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  a {\small \verb+sound_detection_requirements.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 
 \newpage
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:sound_detection_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+sound_detection_application.py+}  
{\small \begin{verbatim}
"""
sound_detection_application.py Application code to run the sound detection 
and localization algorithm.

Author: Yohannes Tadesse Haile
Date: April 13, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+sound_detection_implementation.py+}  
{\small \begin{verbatim}
"""
sound_detection_implementation.py Implementation code for running the sound 
detection and localization algorithm

Author: Yohannes Tadesse Haile
Date: April 13, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }



\end{description} 
% \blank
%~
%\blank

\newpage
\noindent The {\small \verb+sound_detection_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
sound_detection_application.py Application code to run the sound detection 
and localization algorithm.

The sound localization algorithm is implemented using a ROS audio topic that 
can be configured to receive audio from a robot or an external microphone. 
It processes the incoming audio signal to detect sound events and localize the 
sound source by computing the interaural time difference (ITD) using the 
GCC-PHAT method. The ITD is then converted into an angle of arrival using 
physical parameters such as the speed of sound and the distance between the 
microphones. This code contains the main function that initializes the sound 
localization node, loads the configuration, and starts the algorithm. 
The algorithm is designed to accumulate fixed-size audio samples (e.g., 4096 
per callback) in a rolling buffer until sufficient data is collected for 
processing.
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries:
    - math
    - numpy
    - rospy
    - rospkg
    - os
    - json
    - webrtcvad
    - std_msgs
    - threading
    - noisereduce
    - soundfile
    - datetime
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters:
    Command line arguments: None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters:
        Key                                      Value
        intenstiyThreshold                       [float]     e.g., 0.0039
        distanceBetweenEars                      [float]     e.g., 0.07
        localizationBufferSize                   [int]       e.g., 8192
        vadAggressiveness                        [int]       e.g., 1
        contextDuration                          [float]     e.g., 1.0
        useNoiseReduction                        [bool]      e.g., true
        verboseMode                              [bool]      e.g., true
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics:
    Topic Name                                   Message Type
    /naoqi_driver/audio                          sound_detection/
                           sound_detection_microphone_msg_file.msg
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics:
    Topic Name                                   Message Type
    /soundDetection/signal                       std_msgs/Float32MultiArray
    /soundDetection/direction                    std_msgs/Float32
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files:
    - pepper_topics.dat: Data file containing topic names for the robot's 
    audio sources.
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files:
    None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File:
    sound_detection_configuration.json
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Example of instantiation of the module:
    rosrun cssr_system sound_detection_application.py
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Yohannes Tadesse Haile, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: yohanneh@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: April 13, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}

%\newpage
\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:sound_detection_unit_testing}

\begin{description}

\item[\checkboxDashed] A unit test application named {\small \verb+sound_detection_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+sound_detection_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+sound_detection_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] The {\small \verb+sound_detection_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+sound_detection_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+sound_detection_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 soundDetection v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\newpage
\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
soundDetection: start-up.
soundDetection: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
soundDetection: running.
\end{verbatim}}

\item[\checkboxDashed] The {\small \verb+sound_detection_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+sound_detection_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxDashed]   The {\small \verb+sound_detection_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+sound_detection+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+sound_detection_configuration.ini+}) file are altered.

\end{description}

\end{description} 

  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:sound_detection_test_system_testing}
%  
%No content yet.
%

 
%%%%%%%%%%Face Detection Test
\subsection{Sound Detection Unit Test} 
%===========================================
\label{subsection:sound_detetction_test}


\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{sound\_detection\_test}.

\item[\checkboxChecked] The \textbf{sound\_detection\_test} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+launch+}, {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_test_configuration.json+}  
\item[\checkboxChecked] The configuration file {\small \verb+sound_detection_test_configuration.json+} contains the key-value pairs that set the component parameters.
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains four files, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+pepper_topics.dat+}  
\item[\checkboxChecked] {\small \verb+sound_detection_test_input_sound_angle.bag+}  
\item[\checkboxChecked] {\small \verb+sound_detection_test_input_sound_distance.bag+}  
\item[\checkboxChecked] {\small \verb+sound_detection_test_input_sound_noises.bag+} 
\end{description} 

\item[\checkboxChecked] The  {\small \verb+launch+} directory contains two files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_test_launch_robot.launch+}  
\item[\checkboxChecked] {\small \verb+sound_detection_test_launch_test_harness.launch+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_test_microphone_msg_file.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+sound_detection_test_application.py+}  
\item[\checkboxChecked]  {\small \verb+sound_detection_test_implementation.py+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  no {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+sound_detection+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+unit_tests+} ROS node.
\item[\checkboxDashed] The {\small \verb+sound_detection+} directory contains  a {\small \verb+sound_detection_requirements.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 
 \newpage
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:sound_detection_test_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+sound_detection_test_application.py+}  
{\small \begin{verbatim}
"""
sound_detection_test_application.py Application code to run the Sound 
Detection and Processing Unit test.

Author: Yohannes Tadesse Haile
Date: April 06, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+sound_detection_test_implementation.py+}  
{\small \begin{verbatim}
"""
sound_detection_test_implementation.py Implementation code for running the 
Sound Detection and Processing unit test.

Author: Yohannes Tadesse Haile
Date: April 13, 2025
Version: v1.0

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank

\newpage
\noindent The {\small \verb+sound_detection_test_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
sound_detection_test_application.py  Application code to run the Sound 
Detection and Processing unit test.

This sound_detection_test is a unit test application code to test the sound 
detection algorithm. It can record audio both from the filtered output and 
the original unfiltered microphone input, generate plots of audio signals 
and sound direction data, and save them for analysis. The test helps validate 
the correctness of audio signal processing and source localization.

\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries
    - rospkg
    - rospy
    - os
    - json
    - numpy
    - soundfile
    - matplotlib
    - datetime
    - threading
    - std_msgs.msg (Float32MultiArray, Float32)
    - sound_detection.msg (sound_detection)
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters
    Launch File Parameters:
        roslaunch unit_tests sound_detection_test_launch.launch
            robot_ip: Pepper robot IP address 
                       (e.g 172.29.111.230 or 172.29.111.240)
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters
        Key                         Value
        saveDirectory               /path/to/save/directory
        sampleRate                  48000
        recordFiltered              true
        recordUnfiltered            true
        generatePlots               true
        recordDuration              10
        plotInterval                10
        plotDpi                     150
        maxDirectionPoints          100
        directionPlotYlimit         90
        verboseMode                 true
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics
    Topic Name                                  Message Type
    /naoqi_driver/audio                         sound_detection/sound_detection
    /soundDetection/signal                      std_msgs/Float32MultiArray
    /soundDetection/direction                   std_msgs/Float32
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics
    None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files
    - pepper_topics.dat: Data file for Pepper robot audio topics
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files
    - filtered_{timestamp}.wav: Filtered audio recordings
    - unfiltered_{timestamp}.wav: Unfiltered audio recordings
    - audio_signals_{timestamp}.png: Plot showing filtered and unfiltered signals
    - direction_data_{timestamp}.png: Plot showing sound direction over time
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File
    sound_detection_test_configuration.json
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}

Example of instantiation of the module
    roslaunch unit_tests sound_detection_test_launch.launch
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Yohannes Tadesse Haile, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: yohanneh@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: April 06, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}

%\newpage
\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:sound_detection_test_unit_testing}

\begin{description}

\item[\checkboxChecked] A unit test application named {\small \verb+sound_detection_test_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+sound_detection_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] A unit test application named {\small \verb+sound_detection_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] The {\small \verb+sound_detection>_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+sound_detection>_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxChecked] The {\small \verb+sound_detection>_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 soundDetectionTest v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\newpage
\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
soundDetectionTest: start-up.
soundDetectionTest: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
soundDetectionTest: running.
\end{verbatim}}

\item[\checkboxChecked] The {\small \verb+sound_detection_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+sound_detection_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked]   The {\small \verb+sound_detection_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+sound_detection+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+sound_detection_test_configuration.json+}) file are altered.

\end{description}

\end{description} 



 \newpage
 \section{D4.3.2 Speech Event} 
%%%%%%%%%%Face Detection
\subsection{Speech Event} 
%===========================================
\label{subsection:speech_event}
The \textbf{Speech Event} software was submitted for integration on April 7th, 2025. The results indicate the software has successfully passed the integration process. 

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{speech\_event}.

\item[\checkboxChecked] The \textbf{speech\_event} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+models+}, {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+speech_event_configuration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+speech_event_configuration.ini+} contains the key-value pairs that set the component parameters. 
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains one file, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+pepper_topics.dat+}  
\end{description} 


\item[\checkboxChecked] The  {\small \verb+model+} directory contains two files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+stt_en_conformer_transducer_large.nemo+}  
\item[\checkboxChecked] {\small \verb+stt_rw_comformer_transducer_large.nemo+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows. 
\begin{description}
\item[\checkboxChecked] {\small \verb+speech_event_application.py+}  
\item[\checkboxChecked]  {\small \verb+speech_event_implementation.py+} 
\end{description} 


\item[\checkboxChecked] The  {\small \verb+srv+} directory contains two files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+set_enabled.srv+}  
\item[\checkboxChecked] {\small \verb+set_language.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software. 

%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains  no {\small \verb+CMakeLists.txt+} build file. 

\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+cssr_system+} ROS node.

\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains a {\small \verb+speech_event_requirements.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 
 \newpage
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:speech_event_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+speech_event_application.py+}  
{\small \begin{verbatim}
"""
speech_event_application.py - speechEvent ROS node definition

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+speech_event_implementation.py+} 
{\small \begin{verbatim}
""""
speech_event_implementation.py - audio manipulation functions that support 
speechEvent

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank


\noindent The {\small \verb+speech_event_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
speech_event_application.py - speechEvent ROS node definition

    This program defines the speechEvent ROS node. The speechEvent ROS node
    transcribes Kinyarwanda and English speech utterances in an audio signal
    published by the soundDetection ROS node on the /soundDetection/signal ROS
    topic, and publishes the transcribed text on the /speechEvent/text ROS topic.
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries:
        - Ubuntu libraries: cython3 ffmpeg gfortran libopenblas-dev
            libopenblas64-dev patchelf pkg-config python3-testresources
            python3-typing-extensions sox
        - Python libraries: nemo, numpy, rospy, scipy, std_msgs, torch
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Command-line Parameters:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters:
        - language                              Kinyarwanda | English
        - verboseMode                           true | false
        - cuda                                  true | false
        - sampleRate                            48000
        - heartbeatMsgPeriod                    10
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics and Message Types:
        - /soundDetection/signal                std_msgs/Float32MultiArray
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics and Message Types:
        - /speechEvent/text                     std_msgs/String
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Services Invoked:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Services Advertised and Request Message:
        - /speechEvent/set_language              kinyarwanda | english
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files:
        - speech_event_input.dat
        - pepper_topics.dat
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration Files:
        - speech_event_configuration.ini
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Example Instantiation of the Module:
        - rosrun cssr_system_speech_event speech_event_application.py
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author: Clifford Onyonka, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email: cliffor2@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date: 2025-02-23
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}

\newpage
\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:speech_event_unit_testing}

%The unit testing could not be carried out as the node didn't start up due to some build errors (see Figure \ref{fig:Speech Event Error}).
\begin{description}

\item[\checkboxDashed] A unit test application named {\small \verb+speech_event_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+speech_event_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+speech_event_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] The {\small \verb+speech_event>_launch_robot.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+speech_event>_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxDashed] The {\small \verb+speech_event>_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup: (The output is there, but could use better formatting (check additional comments)
{\small 
\begin{verbatim}
 speechEvent v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\item[\checkboxChecked]  The component being tested write short messages to the terminal during the start-up phase to indicate the state of the node: (The output is there, but could use better formatting (check additional comments)
{\small 
\begin{verbatim}
speechEvent: start-up.
speechEvent: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
speechEvent: running.
\end{verbatim}}

\item[\checkboxDashed] The {\small \verb+speech_event_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+speech_event_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxDashed]   The {\small \verb+speech_event_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+speech_event+} directory. (The unit test instructions are there, but need some more information and better structure for easy usage)


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+speech_event_configuration.ini+}) file are altered.

\end{description}

\end{description} 

%\begin{figure}[!hbpt]
%\centering
%\includegraphics[scale=0.115]{Speech Event Error.jpeg}
%\caption{Speech Event Runtime Error}
%\label{fig:Speech Event Error}
%\end{figure}

  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:speech_event_test_system_testing}
%  
%No content yet.
%

 
%%%%%%%%%%Speech Event Test
\subsection{Speech Event Unit Test} 
%===========================================
\label{subsection:speech_event_test}


\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{speech\_event\_test}.

\item[\checkboxChecked] The \textbf{speech\_event\_test} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, {\small \verb+launch+}, {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains two files, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+speech_event_driver_configuration.ini+}  
\item[\checkboxChecked] {\small \verb+speech_event_test_configuration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+speech_event_test_configuration.json+} contains the key-value pairs that set the component parameters. (Changing the language or the verbose mode has no visible effects)
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains two data files and seven audio files, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+pepper_topics.dat+} 
\item[\checkboxChecked] {\small \verb+speech_event_test_output.dat+} 
\item[\checkboxChecked] {\small \verb+en-he_now_resides_in_monte_carlo.wav+}
\item[\checkboxChecked] {\small \verb+en-the_council_was_held.wav+}
\item[\checkboxChecked] {\small \verb+en-turner_construction_was_the_construction_manager_for_the_project.wav+}
\item[\checkboxChecked] {\small \verb+rw-atandatu.wav+}
\item[\checkboxChecked] {\small \verb+rw-ibikenewe.wav+}
\item[\checkboxChecked] {\small \verb+rw-ingendo.wav+}
\item[\checkboxChecked] {\small \verb+rw-kabiri.wav+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+launch+} directory contains two files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+speech_event_launch_robot.launch+}
\item[\checkboxChecked] {\small \verb+speech_event_launch_test_harness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+speech_event_driver.py+}  
\item[\checkboxChecked] {\small \verb+speech_event_test_application.py+}  
\item[\checkboxChecked] {\small \verb+speech_event_test_implementation.py+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+set_next_test_file.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the software. (README file not completely intuitive).
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains  no {\small \verb+CMakeLists.txt+} build file. (It is not necessary if you use the build setup in additional comments below).
\item[\checkboxChecked] The {\small \verb+speech_event+} directory contains  no {\small \verb+package.xml+} manifest file since it is a package within the {\small \verb+unit_tests+} ROS node.
\item[\checkboxDashed] The {\small \verb+speech_event+} directory contains  a {\small \verb+speech_event_requirements.txt+} file with the dependencies (and their versions) required to be installed for proper functionality of the node.

\end{description}


 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:speech_event_test_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+speech_event_driver.py+}  
{\small \begin{verbatim}
"""
speech_event_driver.py - program that emulates a soundDetection ROS node

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked] {\small \verb+speech_event_test_application.py+}  
{\small \begin{verbatim}
"""
speech_event_test_application.py - speechEvent test ROS node definition

Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
"""

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+speech_event_test_implementation.py+} 
{\small \begin{verbatim}
""""
speech_event_test_implementation.py - functions to be used by the test ROS node


Copyright (C) 2023 CSSR4Africa Consortium

This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.

Website: www.cssr4africa.org

This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank

%\newpage
\noindent The {\small \verb+speech_event_test_application.py+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
"""
speech_event_test_application.py - speechEvent test ROS node definition

    This program defines a ROS node that is used to test speechEvent. It
    subscribes to the /speechEvent/text ROS topic.

\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Libraries:
        - Ubuntu libraries: None
        - Python libraries: nemo, rospy, scipy
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Parameters:
        - None
    
    Command-line Parameters:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Command-line Parameters:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration File Parameters:
        - language                          Kinyarwanda | English
        - verboseMode                       true | false
        - cuda                              true | false
        - sampleRate                        48000
        - heartbeatMsgPeriod                10
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Subscribed Topics and Message Types:
        - /speechEvent/text                 std_msgs/String
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Published Topics and Message Types:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Services Invoked:
        - /speechEvent/set_language
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Services Advertised and Request Message:
        - None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Input Data Files:
        - speech_event_test_input.dat
        - pepper_topics.dat
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Output Data Files:
        - speech_event_test_output.dat
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Configuration Files:
        - speech_event_test_configuration.ini
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Example Instantiation of the Module:
        - rosrun unit_tests_speech_event speech_event_test_application.py
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Author:     Clifford Onyonka, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Email:      cliffor2@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Date:       2025-02-23
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:speech_event_test_unit_testing}

%The unit testing could not be carried out as the node didn't start up due to some build errors (see Figure \ref{fig:Speech Event Error}).
\begin{description}

\item[\checkboxChecked] A unit test application named {\small \verb+speech_event_test_launch_robot.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxDashed] A unit test application named {\small \verb+speech_event_launch_simulator.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] A unit test application named {\small \verb+speech_event_launch_test_harness.launch+} is provided in the {\small \verb+launch+} directory.

\item[\checkboxChecked] The {\small \verb+speech_event_launch_robot.launch+} file launches the component being tested. (It did not run. Please inspect)

\item[\checkboxDashed] The {\small \verb+speech_event_launch_simulator.launch+} file launches the component being tested.

\item[\checkboxChecked] The {\small \verb+speech_event_launch_test_harness.launch+} file launches the component being tested.

\item[\checkboxChecked] The component being tested outputs the copyright message on startup:
{\small 
\begin{verbatim}
 speechEventTest v1.0
 
 This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 
 Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY.
\end{verbatim}}

\item[\checkboxChecked]  The component being tested writes short messages to the terminal during the start-up phase to indicate the state of the node:
{\small 
\begin{verbatim}
speechEventTest: start-up.
speechEventTest: subscribed to /topicName.
\end{verbatim}}

\item[\checkboxChecked]   The component being tested periodically (every ten seconds) writes a short heartbeat message to the terminal to indicate the state of the node:
{\small 
\begin{verbatim}
speechEventTest: running.
\end{verbatim}}

\item[\checkboxChecked] The {\small \verb+speech_event_launch_robot.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed]   The {\small \verb+speech_event_launch_simulator.launch+} file connects the component a data source and a data sink using a driver and a stub. This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked]   The {\small \verb+speech_event_launch_test_harness.launch+} file connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the README.md file. This means this file launches the physical robot and all its sensors and actuators as required. (No infoirmation in the readme file explaining what tests)

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+speech_event_test+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+speech_event_test_configuration.ini+}) file are altered.

\end{description}

\end{description} 


\newpage
\section{D5.2 Animate Behaviour Subsystem} 
%%%%%%%%%%Animate Behaviour
\subsection{Animate Behaviour} 
%===========================================

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{animateBehaviour}. Refer to Deliverable D3.1 System Architecture for details of the ROS package names and the associated ROS nodes.

\item[\checkboxChecked] The \textbf{animateBehaviour} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+},   {\small \verb+include/animateBehaviour+},  {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+animateBehaviourConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains three files, named as follows.

\begin{description} 
\item[\checkboxChecked] {\small \verb+animateBehaviourLogFile.log+}  
\item[\checkboxChecked] {\small \verb+pepperTopics.dat+}  
\item[\checkboxChecked] {\small \verb+simulatorTopics.dat+}   
\item[\checkboxChecked] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/animateBehaviour+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourInterface.h+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourApplication.cpp+}  
\item[\checkboxChecked]  {\small \verb+animateBehaviourImplementation.cpp+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains one file, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+setActivation.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+animateBehaviour+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the node 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+animateBehaviour+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+animateBehaviour+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+cssr_system+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:animate_behaviour_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+animateBehaviourApplication.cpp+}  
{\small \begin{verbatim}
/* animateBehaviourApplication.cpp
 *
 * Author: Eyerusalem Mamuye Birhan
 * Date: 2025-01-10
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+animateBehaviourImplementation.cpp+}  
{\small \begin{verbatim}
/* animateBehaviourImplementation.cpp
  *
 * Author: Eyerusalem Mamuye Birhan
 * Date: 2025-01-10
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked] {\small \verb+animateBehaviourInterface.h+}   
{\small \begin{verbatim}
/* animateBehaviourInterface.h
 *
 * Author: Eyerusalem Mamuye Birhan
 * Date: 2025-01-10
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank

\noindent The {\small \verb+animateBehaviourApplication.cpp+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/*
 * animateBehaviourApplication.cpp
 * Animate behavior controller for creating lifelike robot movements
 * 
 * Implements a ROS node that generates subtle autonomous movements to make the 
 * robot appear more lifelike and animate. The system manages three types 
 * of movements:
 * - Subtle body joint movements
 * - Hand flexing movements
 * - Small base rotations around the z-axis
 * 
 * Key features:
 * - Maintains movements near home positions using randomized patterns
 * - Configurable movement ranges (as percentage of joint ranges)
 * - No head control
 * - Supports selective enabling of different movement types
 * - Can be enabled/disabled via ROS service for social interaction coordination
 * - Configurable via external topic mapping files for physical/simulated robots
 * - Optional verbose mode for movement debugging
 * 
 * Debug Settings:
 *   - verboseMode: Enable/disable debug output (default: false)
 *   
 *   Range Parameters:
 *   - rotMaximumRange: Maximum rotation range for base movement 
 *   - selectedRange: Selected movement range as fraction of maximum 
 *   - armMaximumRange: Maximum range for each arm joint [5 values] 
 *   - handMaximumRange: Maximum range for hand movement 
 *   - legMaximumRange: Maximum range for each leg joint [3 values] 
 *   
 *   Movement Parameters:
 *   - gestureDuration: Duration of each movement in seconds 
 *   - numPoints: Number of points for arm and hand movements 
 *   - numPointsLeg: Number of points for leg movements 
 *   - legRepeatFactor: Number of repetitions for leg movements
 * 
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries:
 *   - ROS core libraries:
 *     - roscpp
 *     - ros/package.h
 *     - actionlib
 *     - control_msgs
 *     - trajectory_msgs
 *     - geometry_msgs
 *   - Standard C++ libraries:
 *     - iostream
 *     - fstream
 *     - thread
 *     - chrono
 *     - vector
 *     - map
 *     - string
 *     - atomic
 *     - random
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
  * Parameters:
 *   ROS Parameters:
 *   - None
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration File Parameters (animateBehaviourConfiguration.ini):
 *   - platform: Target platform ("robot" or "simulator")
 *   - behaviour: Type of animation behavior ("body", "hands", "rotation", "All")
 *   - simulatorTopics: Topic mapping file for simulator ("simulatorTopics.dat")
 *   - robotTopics: Topic mapping file for robot ("pepperTopics.dat")
 *   - verboseMode: Enable/disable debug output (default: false)  
 *   - rotMaximumRange	 
 *   - selectedRange
 *   - armMaximumRange		
     - handMaximumRange				
     - legMaximumRange				
     - gestureDuration				
     - numPoints						
     - numPointsLeg				
     - legRepeatFactor			
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Subscribed Topics and Message Types:
 *   - None
 * 
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Published Topics and Message Types:
 * - None (This node does not publish any topics directly)
 * 
 * Topics Used By Node (But Not Published):
 *   - Action Client Topics (Node sends goals to these action servers):
 *      Physical Robot:
 *           - /pepper_dcm/RightHand_controller/follow_joint_trajectory
 *           - /pepper_dcm/LeftHand_controller/follow_joint_trajectory
 *           - /pepper_dcm/RightArm_controller/follow_joint_trajectory
 *           - /pepper_dcm/LeftArm_controller/follow_joint_trajectory
 *           - /pepper_dcm/Pelvis_controller/follow_joint_trajectory
 * 
 *    Simulator:
 *           - /pepper/RightArm_controller/follow_joint_trajectory
 *           - /pepper/LeftArm_controller/follow_joint_trajectory
 *           - /pepper/Pelvis_controller/follow_joint_trajectory
 * 
 * Topics Used via Publishers (Node sends messages but doesn't publish topics):
 *    Physical Robot:
 *          - /pepper_dcm/cmd_moveto
 * 
 *    Simulator:
 *          - /pepper/cmd_vel
 * 
 * Note: It sends action goals and movement commands through established topics
 *  but does not create or publish any topics of its own.
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked:
 *  - None
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised:
 *   - animateBehaviour/set_activation (cssr_system/set_activation)
 *      Request: string state ("enabled" or "disabled")
 *      Response: bool success
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files:
 *   - pepperTopics.dat:
 *   - simulatorTopics.dat:
 * 
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Output Data Files:
 *  - animateBehaviourLogFile.log: Log file for runtime messages
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
 *   - animateBehaviourConfiguration.ini:
 *
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
*  Example Instantiation of the Module
 *   - rosrun cssr_system animateBehaviour
 *   - rosservice call /animateBehaviour/set_activation "state: 'enabled'"
 *   - rosservice call /animateBehaviour/set_activation "state: 'disabled'"
 *
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author:  Eyerusalem Mamuye Birhan, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email:   ebirhan@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date:  2025-01-10
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:animate_behaviour_unit_testing}

\begin{description}
\item[\checkboxDashed] A unit test application named {\small \verb+animateBehaviourLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+animateBehaviourLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+animateBehaviourLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] The {\small \verb+animateBehaviourLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+animateBehaviourLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+animateBehaviourLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+animateBehaviour+} being tested outputs the copyright message on startup:
\begin{verbatim}
animateBehaviour: v1.0
 
This project is funded by the African Engineering and Technology Network 
 (Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+animateBehaviour+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
animateBehaviour: start-up.
animateBehaviour: subscribed to /topicName.
\end{verbatim}

\newpage
\item[\checkboxChecked]  The {\small \verb+animateBehaviour+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
animateBehaviour: running.
\end{verbatim}

\item[\checkboxDashed] The {\small \verb+animateBehaviourLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+animateBehaviourLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+animateBehaviourLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+animateBehaviourTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 

  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:gesture_execution_system_testing}
%  
%No content yet.


%%%%%%ANIMATE BEHAVIOUR UNIT TEST
 \subsection{Animate Behaviour Unit test} 
%===========================================
\label{subsection:animate_behaviour_test}

\subsubsection{Files and Directories}
%===============================================================
\label{subsubsection:animate_behaviour_test_files}
 
 \begin{description}
\item[\checkboxChecked] Files are stored in a subdirectory named \textbf{animateBehaviourTest}. 

\item[\checkboxChecked] The \textbf{animateBehaviourTest} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+},   \\{\small \verb+include/animateBehaviourTest+}, {\small \verb+launch+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourTestConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+animateBehaviourTestConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains one file, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourTestOutput.dat+}  
\end{description} 

\newpage
\item[\checkboxChecked] The  {\small \verb+include/animateBehaviourTest+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourTestInterface.h+}  
\end{description} 


\item[\checkboxChecked] The  {\small \verb+launch+} directory contains three files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourLaunchRobot.launch+}  
\item[\checkboxChecked] {\small \verb+animateBehaviourLaunchSimulator.launch+}  
\item[\checkboxChecked] {\small \verb+animateBehaviourLaunchTestHarness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviourTestApplication.cpp+}  
\item[\checkboxChecked]  {\small \verb+animateBehaviourTestImplementation.cpp+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+animateBehaviourTest+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the test. 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+animateBehaviourTest+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+animateBehaviourTest+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+unit_tests+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:animate_behaviour_test_documentation_standards}  

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+animateBehaviourTestApplication.cpp+}  
{\small \begin{verbatim}
/* animateBehaviourTestApplication.cpp
 *
 * Author: Eyerusalem Mamuye Birhan
 * Date: 2025-01-10
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked]  {\small \verb+animateBehaviourTestImplementation.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionImplementation.cpp
 *
 * Author: Eyerusalem Mamuye Birhan
 * Date: 2025-01-10
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+animateBehaviourTestInterface.h+}   
{\small \begin{verbatim}
/* animateBehaviourTestInterface.h
 *
 * Author: Eyerusalem Mamuye Birhan
 * Date: 2025-01-10
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank
%
%\newpage
\noindent The {\small \verb+animateBehaviourTestApplication.cpp+} file contains a documentation comment with the following subsections:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/*
* animateBehaviourTestApplication.cpp
* This code implements a ROS-based test application that uses Google Test
* to validate the animate behavior module, generates structured test reports, 
* and supports continuous testing with user-controlled iterations.
* 
* Implements a ROS node that executes a comprehensive test suite for the animate
* behavior system. The test validates four types of movements:
* - Subtle body joint movements
* - Hand flexing movements
* - Small base rotations around the z-axis
* - Combined movements of all types
* 
* Key features:
* - Continuous test execution capability
* - Automated test report generation
* - Configurable test behavior via external configuration
* - Clean setup and teardown between test runs
* - User-controlled test repetition
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
* Libraries:
*   - ROS core libraries:
*     - roscpp
*     - ros/package.h
*   - Testing libraries:
*     - gtest/gtest.h
*   - Standard C++ libraries:
*     - iostream
*     - fstream
*     - ctime
*     - string
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Parameters:
*   - argCount: Number of command line arguments
*   - argValues: Array of command line argument strings
* 
* Command-line Parameters:
*   - Standard ROS parameters
*   - Google Test command line options
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters:
*   Test configuration file (animateBehaviourTestConfiguration.ini):
*   - hands:     True/False    # Enable or disable hand movement tests
*   - body:      True/False    # Enable or disable body movement tests
*   - rotation:  True/False    # Enable or disable rotation tests
*   - All:       True/False    # Enable or disable combined movement tests
*   Note: Setting value to True runs the test, False skips the test
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Subscribed Topics and Message Types:
*   - None directly (handled by test implementations)
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
* Published Topics and Message Types:
*   - None directly (handled by test implementations)
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
  *
*   - /animateBehaviour/set_activation
*     Used to enable/disable animate behavior during tests
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
*
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Output Data Files:
*   - animateBehaviourTest/data/animateBehaviourTestOutput.dat:Test execution 
   results and timing information
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration Files:
* - unit_tests/animateBehaviourTest/config/animateBehaviourTestConfiguration.ini:
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
*
* animateBehaviourTestLaunchTestHarness.launch.
*
* roslaunch unit_tests animateBehaviourTestLaunchTestHarness.launch
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author:  Eyerusalem Mamuye Birhan, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email:   ebirhan@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date:  2025-01-10
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:animate_behaviour_test_unit_testing}


\begin{description}
\item[\checkboxChecked] A unit test application named {\small \verb+animateBehaviourTestLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+animateBehaviourTestLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+animateBehaviourTestLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] The {\small \verb+animateBehaviourTestLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+animateBehaviourTestLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxChecked] The {\small \verb+animateBehaviourTestLaunchTestHarness.launch+} file  launches the component being tested.

\newpage
\item[\checkboxChecked]  The {\small \verb+animateBehaviourTest+} being tested outputs the copyright message on startup:
\begin{verbatim}
animateBehaviourTest: v1.0
 
This project is funded by the African Engineering and Technology Network 
 (Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+animateBehaviourTest+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
animateBehaviourTest: start-up.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+animateBehaviourTest+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
animateBehaviourTest: running.
\end{verbatim}

\item[\checkboxChecked] The {\small \verb+animateBehaviourTestLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+animateBehaviourTestLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxChecked] The {\small \verb+animateBehaviourTestLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+animateBehaviourTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 

  


\newpage
\section{D5.3 Attention Subsystem} 
\subsection{Overt Attention} 
%===========================================
\label{subsection:overt_attention}

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{overtAttention}. Refer to Deliverable D3.1 System Architecture for details of the ROS package names and the associated ROS nodes.

\item[\checkboxChecked] The \textbf{overtAttention} directory has six sub-directories:  {\small \verb+config+},   {\small \verb+data+},   {\small \verb+include/overtAttention+}, {\small \verb+msg+},  {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+overtAttentionConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains two files, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+pepperTopics.dat+}  
\item[\checkboxChecked] {\small \verb+simulatorTopics.dat+}  
\item[\checkboxChecked] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/overtAttention+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionInterface.h+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains two files, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+Mode.msg+}  
\item[\checkboxChecked] {\small \verb+Status.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionApplication.cpp+}  
\item[\checkboxChecked]  {\small \verb+overtAttentionImplementation.cpp+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains one file, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+setMode.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+overtAttention+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the node 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+overtAttention+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+overtAttention+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+cssr_system+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:overt_attention_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+overtAttentionApplication.cpp+}  
{\small \begin{verbatim}
/* overtAttentionApplication.cpp
 *
 * Author: Mohammed Danso, Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+overtAttentionImplementation.cpp+}  
{\small \begin{verbatim}
/* overtAttentionImplementation.cpp
 *
 * Author: Mohammed Danso, Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
* This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked] {\small \verb+overtAttentionInterface.h+}   
{\small \begin{verbatim}
/* overtAttentionInterface.h
 *
 * Author: Mohammed Danso, Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank
%

\noindent The {\small \verb+overtAttentionApplication.cpp+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* overtAttentionApplication.cpp
*
* This module module equips the robot with the ability to direct its gaze toward
*  salient features in its environment  or focus on specific locations, 
* facilitating socially and contextually appropriate behaviors. 
* This capability is crucial for enhancing the robot‚Äôs ability to interact 
* effectively with people and adapt to dynamic environments.
*
* The module operates in five distinct modes, each tailored to a specific context. 
*   - Social mode is activated during social interactions, allowing the robot to 
        focus on human faces, and voices. 
*     In this mode, the robot prioritizes social cues to maintain engagement 
       and responsiveness. 
*
*   - Scanning mode, on the other hand, is used when the robot is not engaged in 
       social interaction. 
*     In this state, the robot scans its surroundings for potential interaction 
       opportunities, 
*     focusing on people and objects of interest while giving higher priority to 
       faces. 
*     The robot periodically shifts its focus to new areas, 
       ensuring comprehensive environmental coverage.
*
*   - In location mode, the robot gazes at a specific target in its environment. 
*     If the robot‚Äôs head cannot achieve the required pose to fixate 
       on the target, 
*     the robot‚Äôs base rotates to realign its head and body. 
*
*   - Seeking mode enables the robot to establish mutual gaze with a nearby 
       person by searching for a face looking directly at it. 
*     If this process is unsuccessful within a given timeframe, the robot returns 
       either a success or failure status. 
*
*   - Lastly, in disabled mode, the robot‚Äôs head remains centered and stationary, 
       effectively deactivating the attention mechanism.
*
* To determine the focus of attention, the module generates two types of saliency 
   maps. 
*   - A social saliency map leverages data from face detection and sound 
       localization to identify socially significant features. 
*   - A general saliency map, on the other hand, uses information-theoretic 
       models to identify visually conspicuous elements 
*     in the robot‚Äôs environment. These maps form the basis for the robot‚Äôs 
       attentional behavior across different modes.
*
* In scanning mode, three key processes work together to enhance 
   attentional dynamics. 
*   - First, a winner-take-all (WTA) mechanism identifies a single focus of 
       attention from the saliency map using a selective tuning model. 
*   - Second, an Inhibition-of-Return (IOR) mechanism ensures that previously 
       attended locations are deprioritized, encouraging exploration of new areas. 
*   - Third, a habituation process gradually reduces the salience of the current 
       focus, ensuring that attention does not remain fixated on a single point 
      for an extended period.
*
* The robot‚Äôs gaze is directed by publishing control commands to the 
    headYaw and headPitch joints, 
* which align the head toward the selected focus of attention. 
* For aural attention, the robot adjusts its headYaw angle based on the angle of 
   arrival of the sound. 
* Calibration parameters ensure accurate mapping between visual offsets in the 
   image and the corresponding head joint angles. 
* When the required headYaw rotation exceeds a predefined threshold, the module 
   coordinates the movement of the robot‚Äôs base 
* and head to maintain focus while realigning the head and torso.
*
* The module‚Äôs functionality is supported by four key inputs. 
* Data from the face detection and sound detection nodes inform the saliency map 
   in social mode. 
* An RGB image from the robot‚Äôs camera is used to compute the saliency map in 
   scanning mode, 
* while the robot‚Äôs current pose is utilized for attending to specific locations. 
* These inputs enable the module to adapt its behavior dynamically based on 
   environmental conditions.
*
* The module provides four outputs to facilitate its operation. 
* First, it publishes control commands to the robot‚Äôs headYaw and headPitch 
   joints, 
* as well as to the wheels and angular velocity when adjusting the robot‚Äôs pose. 
* Second, it generates an RGB image visualizing the saliency function and the 
    current focus of attention, 
* which can be displayed in verbose mode for debugging purposes. 
* Third, the module continuously publishes the current active mode to the 
   /overtAttention/mode topic, 
* enabling other system components to monitor the robot‚Äôs attentional state. 
* Finally, the module updates actuator topic names based on configuration files 
   specific to either the physical robot or a simulation environment.
*
* The module‚Äôs operation is managed through dedicated ROS services. The module 
   advertises services to allow the selection 
* of operational modes, such as social, scanning, or location mode. 
*
* For ease of analysis, the module can also operate in verbose mode, where 
   published data is printed to the terminal, 
* and output images are displayed in OpenCV windows.
*
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
* Standard libraries
- std::string, std::vector, std::fstream, std::pow, std::sqrt, std::abs
* ROS libraries
- ros/ros.h, ros/package.h, actionlib/client/simple_action_client.h, 
  control_msgs/FollowJointTrajectoryAction.h, geometry_msgs/Twist.h
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
*
* Command-line Parameters
*
* The attention mode to set the attention system to
* The location in the world to pay attention to in x, y, z coordinates
*
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters

* Key                   |     Value 
* --------------------- |     -------------------
* platform                    simulator
* camera                      FrontCamera
* realignmentThreshold        5
* xOffsetToHeadYaw            25
* yOffsetToHeadPitch          20
* simulatorTopics             simulatorTopics.dat
* robotTopics                 pepperTopics.dat
* verboseMode                 true
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
*
* /faceDetection/direction              faceDetection.msg     
* /robotLocalization/pose               sensor_msgs::JointState
* /soundDetection/data                  std_msgs::Float64    
* /naoqi_driver/camera/front/image_raw  sensor_msgs::ImageConstPtr       
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
* Published Topics and Message Types
* 
* /pepper_dcm/Head_controller/follow_joint_trajectory 
* /cmd_vel                                                 
* /overtAttention/mode                                    
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
* 
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
 * 
* /overtAttention/set_mode  
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
*
* pepperTopics.dat
* simulatorTopics.dat
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Output Data Files
*
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
*
* overtAttentionConfiguration.ini
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
*
* rosrun cssr_system overtAttention
*
* The clients can call the service by providing the attention mode and the 
   location to pay attention to in the world.
* The service will execute the attention mode selected and attend to the location 
   provided if mode being set is location mode.
* An example of calling the service is shown below:
* ----- rosservice call /overAttention/set_mode -- location 3.0 2.0 1.0
* This will set the attention mode to location and the location to pay attention 
    to is (3.0, 2.0, 1.0)
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author:  Muhammed Danso and Adedayo Akinade, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email:  mdanso@andrew.cmu.edu, aakinade@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date:  January 10, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:overt_attention_unit_testing}


\begin{description}
\item[\checkboxDashed] A unit test application named {\small \verb+overtAttentionLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+overtAttentionLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+overtAttentionLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] The {\small \verb+overtAttentionLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+overtAttentionLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+overtAttentionLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+overtAttention+} being tested outputs the copyright message on startup:
\begin{verbatim}
overtAttention: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+overtAttention+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
overtAttention: start-up.
overtAttention: subscribed to /topicName.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+overtAttention+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
overtAttention: running.
\end{verbatim}

\item[\checkboxDashed] The {\small \verb+overtAttentionLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+overtAttentionLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+overtAttentionLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+overtAttentionTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 


%  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:overt_attention_system_testing}
%  
%No content yet.







%%%%%%GESTURE EXECUTION UNIT TEST
 \subsection{Overt Attention Unit test} 
%===========================================
\label{subsection:overt_attention_test}

\subsubsection{Files and Directories}
%===============================================================
\label{subsubsection:overt_attention_test_files}
 
 \begin{description}
\item[\checkboxChecked] Files are stored in a subdirectory named \textbf{overtAttentionTest}. 

\item[\checkboxChecked] The \textbf{overtAttentionTest} directory has six sub-directories:  {\small \verb+config+},   {\small \verb+data+},   {\small \verb+include/overtAttentionTest+}, {\small \verb+launch+},  {\small \verb+msg+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionTestConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+overtAttentionTestConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains three files, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionTestOutput.dat+}  
\item[\checkboxChecked] {\small \verb+pepperTopics.dat+}   
\item[\checkboxChecked] {\small \verb+simulatorTopics.dat+}  
\item[\checkboxChecked] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/overtAttentionTest+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionTestInterface.h+}  
\end{description} 


\item[\checkboxChecked] The  {\small \verb+launch+} directory contains three files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionTestLaunchRobot.launch+}  
\item[\checkboxChecked] {\small \verb+overtAttentionTestLaunchSimulator.launch+}  
\item[\checkboxChecked] {\small \verb+overtAttentionTestLaunchTestHarness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+faceDetection.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionTestApplication.cpp+}  
\item[\checkboxChecked] {\small \verb+overtAttentionTestDriver.cpp+}  
\item[\checkboxChecked]  {\small \verb+overtAttentionTestImplementation.cpp+}  
\end{description} 


\item[\checkboxChecked] The {\small \verb+overtAttentionTest+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the test. 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+overtAttentionTest+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+overtAttentionTest+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+unit_tests+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:overt_attention_test_documentation_standards}  

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+overtAttentionTestApplication.cpp+}  
{\small \begin{verbatim}
/* overtAttentionTestApplication.cpp
 *
 * Author: Mohammed Danso, Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
     (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+overtAttentionTestImplementation.cpp+}  
{\small \begin{verbatim}
/* overtAttentionImplementation.cpp
 *
 * Author: Mohammed Danso, Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }


\newpage
\item[\checkboxChecked] {\small \verb+overtAttentionTestInterface.h+}   
{\small \begin{verbatim}
/* overtAttentionTestInterface.h
 *
 * Author: AMohammed Danso, Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+overtAttentionTestDriver.cpp+}  
{\small \begin{verbatim}
/* overtAttentionTestDriver.cpp
 *
 * Author: Mohammed Danso, Adedayo Akinadee
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank
%

\noindent The {\small \verb+overtAttentionTestApplication.cpp+} file contains a documentation comment with the following subsections:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* overtAttentionTestApplication.cpp
*
* This module is responsible for running the tests on the overt attention module.
* The tests are run using Google Test and the results are written to a file. 
* The module tests the scanning, social, seeking, location and disabled modes of 
    the overtAttention node
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
* Standard libraries
- std::string, std::vector, std::fstream, std::pow, std::sqrt, std::abs
* ROS libraries
- ros/ros.h, ros/package.h, actionlib/client/simple_action_client.h, 
  control_msgs/FollowJointTrajectoryAction.h, geometry_msgs/Twist.h
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
*
* Command-line Parameters
*
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters

* Key                   |     Value 
* --------------------- |     -------------------
* platform                      robot
* scanning                      true
* social                        true
* seeking                       true
* location                      true
* disabled                      true
* verboseMode                   true
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
 *
 * /faceDetection/direction              faceDetection.msg     
* /robotLocalization/pose               sensor_msgs::JointState
* /soundDetection/data                  std_msgs::Float64    
* /naoqi_driver/camera/front/image_raw  sensor_msgs::ImageConstPtr     
* /overtAttention/mode                  Status.msg  
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
* Published Topics and Message Types
* 
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
  *
* /overtAttention/set_mode 
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
*
* pepperTopics.dat
* simulatorTopics.dat
*
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Output Data Files
*
* overtAttentionTestOutput.dat
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
*
* overtAttentionTestConfiguration.ini
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
*
* roslaunch unit_tests overtAttentionTestLaunchTestHarness.launch
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author:  Muhammed Danso and Adedayo Akinade, Carnegie Mellon University 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email:   mdanso@andrew.cmu.edu, aakinade@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date:  January 10, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:overt_attention_test_unit_testing}


\begin{description}
\item[\checkboxChecked] A unit test application named {\small \verb+overtAttentionTestLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+overtAttentionTestLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+overtAttentionTestLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] The {\small \verb+overtAttentionTestLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+overtAttentionTestLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxChecked] The {\small \verb+overtAttentionTestLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+overtAttentionTest+} being tested outputs the copyright message on startup:
\begin{verbatim}
overtAttentionTest: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+overtAttentionTest+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
overtAttentionTest: start-up.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+overtAttentionTest+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
overtAttentionTest: running.
\end{verbatim}

\item[\checkboxChecked] The {\small \verb+overtAttentionTestLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+overtAttentionTestLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxChecked] The {\small \verb+overtAttentionTestLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+overtAttentionTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 


\newpage
\section{D5.4.3 Robot Mission Interpreter} 
\subsection{Behavior Controller} 
%===========================================
\label{subsection:behaviour_controller}


\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{behaviourController}.

\item[\checkboxChecked] The \textbf{behaviourController} directory has six sub-directories:  {\small \verb+config+},   {\small \verb+data+},   \\{\small \verb+include/behaviourController+},  {\small \verb+msg+}, {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains three files, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+behaviourControllerConfiguration.ini+}  
\item[\checkboxChecked] {\small \verb+cultureKnowledgeBaseConfiguration.ini+} 
\item[\checkboxChecked] {\small \verb+environmentKnowledgeBaseConfiguration.ini+} 
\item[\checkboxChecked] The configuration file {\small \verb+behaviourControllerConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] The configuration file {\small \verb+cultureKnowledgeBaseConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] The configuration file {\small \verb+environmentKnowledgeBaseConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains four files, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+cultureKnowledgeBaseInput.dat+}  
\item[\checkboxChecked] {\small \verb+cultureKnowledgeValueTypesInput.dat+}  
\item[\checkboxChecked] {\small \verb+environmentKnowledgeBaseInput.dat+}  
\item[\checkboxChecked] {\small \verb+labTour.xml+}  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/behaviourController+} directory contains three files, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+behaviourControllerInterface.h+}  
\item[\checkboxChecked] {\small \verb+cultureKnowledgeBaseInterface.h+}  
\item[\checkboxChecked] {\small \verb+environmentKnowledgeBaseInterface.h+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionMode.msg+}  
\end{description} 


%\item[\checkboxDashed] The  {\small \verb+launch+} directory contains three files, named as follows.\\
%\noindent The launch files are placed in the {\small \verb+unit_tests+} package and unnecessary here.
%\begin{description}
%\item[\checkboxDashed] {\small \verb+behaviourControllerLaunchRobot.launch+}  
%\item[\checkboxDashed] {\small \verb+behaviourControllerLaunchSimulator.launch+}  
%\item[\checkboxDashed] {\small \verb+behaviourControllerLaunchTestHarness.launch+}
%\end{description} 

\newpage
\item[\checkboxChecked] The  {\small \verb+src+} directory contains four source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+behaviourControllerApplication.cpp+}  
\item[\checkboxChecked]  {\small \verb+behaviourControllerImplementation.cpp+}  
\item[\checkboxChecked]  {\small \verb+cultureKnowledgeBaseImplementation.cpp+}  
\item[\checkboxChecked]  {\small \verb+environmentKnowledgeBaseImplementation.cpp+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains nine files, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviorSetActivation.srv+}  
\item[\checkboxChecked] {\small \verb+gestureExecutionPerformGesture.srv+}  
\item[\checkboxChecked] {\small \verb+overtAttentionSetMode.srv+}  
\item[\checkboxChecked] {\small \verb+robotLocalizationSetPose.srv+}  
\item[\checkboxChecked] {\small \verb+robotNavigationSetGoal.srv+}  
\item[\checkboxChecked] {\small \verb+speechEventSetLanguage.srv+}  
\item[\checkboxChecked] {\small \verb+speechEventSetStatus.srv+}  
\item[\checkboxChecked] {\small \verb+tabletEventPromptAndGetResponse.srv+}  
\item[\checkboxChecked] {\small \verb+textToSpeechSayText.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+behaviourController+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the node 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+behaviourController+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+behaviourController+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+cssr_system+} package .

\end{description}


 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:behaviour_controller_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+behaviourControllerApplication.cpp+}  
{\small \begin{verbatim}
/* behaviourControllerApplication.cpp
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+behaviourControllerImplementation.cpp+}  
{\small \begin{verbatim}
/* behaviorControllerImplementation.cpp   Source code for the implementation of 
the robot mission node classes and other utility functions
 *
 * Author: Tsegazeab Taye Tefferi
 * Date: April 25, 2025
 * Version: 1.0
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+cultureKnowledgeBaseImplementation.cpp+}  
{\small \begin{verbatim}
/* cultureKnowledgeBaseImplementation.cpp   Source code for the implementation of 
the culture knowledge base helper class: CultureKnowledgeBase
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */

\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+environmentKnowledgeBaseImplementation.cpp+}  
{\small \begin{verbatim}
/* environmentKnowledgeBaseImplementation.cpp   Source code for the 
implementation of the environment knowledge base helper class: 
EnvironmentKnowledgeBase
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */
\end{verbatim} }


\item[\checkboxChecked] {\small \verb+behaviourControllerInterface.h+}   
{\small \begin{verbatim}
/* behaviorControllerInterface.h - interface file for 
behaviorControllerApplication and behaviorControllerImplementation.
*
* Author: Tsegazeab Taye Tefferi
* Date: April 08, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+cultureKnowledgeBaseInterface.h+}   
{\small \begin{verbatim}
/* cultureKnowledgeBaseInterface.h   Interface source code for the culture 
knowledge base helper class: CultureKnowledgeBase
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */
 
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+environmentKnowledgeBaseInterface.h+}   
{\small \begin{verbatim}
/* environmentKnowledgeBaseInterface.h   Interface source code for the 
environment knowledge base helper class: EnvironmentKnowledgeBase
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network (Afretec)
 * Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank
%

\noindent The {\small \verb+behaviourControllerApplication.cpp+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* behaviorControllerApplication.cpp
* 
* <detailed functional description>
* The component starts the 'Robot Mission Interpreter' ROS Node. 
This node is the starting point for the robot to execute the mission selected.
* Though, this component exists as a standalone and can be started as such, 
without the set of ROS nodes that are part of the CSSR4Afica system architecture
(see D3.1 System Architecture), it will not be able function.
...
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Libraries
* Standard libraries
- std::string, std::fstream
* ROS libraries
- ros/ros.h, ros/package.h, std_msgs
* BehaviorTree.Cpp libraries
- behaviortree_cpp/bt_factory.h, behaviortree_cpp/loggers/groot2_publisher.h
...
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
*
* Command-line Parameters
*
* None
*
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters
* Key | Value
* ----|------
* scenarioSpecification | <the mission scenario to be interpreted>
* verboseMode           | <true/false - enables/disables the display of 
                               diagnostic messages>
* asrEnabled            | <true/false> - enables/disables the Automatic Speech 
                             Recognition. If diabled, pepper's tablet will be 
                                          primary input method
* audioDebugMode        | <true/false> - enables/disables the audio for debugging
...
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Subscribed Topics and Message Types
**
- /overtAttention/mode      overtAttentionMode.msg
- /speechEvent/text         std_msgs::String
\end{verbatim}}

%\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Published Topics and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxCrossed] 
 {\small 
\begin{verbatim}                    
* Services Invoked
* *
* /animateBehaviour/setActivation
* /gestureExecution/perform_gesture
* /overtAttention/set_mode
* /robotLocalization/reset_pose
* /robotNavigation/set_goal
* /speechEvent/set_language
* /speechEvent/set_enabled
* /tabletEvent/prompt_and_get_response
* /textToSpeech/say_text    
\end{verbatim}}

\item[\checkboxCrossed] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
 *
 * None
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Input Data Files
*
* lab_tour.xml
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Output Data Files
* 
* None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
 *
 * behaviourControllerConfiguration.ini
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
 *
 * rosrun cssr_system behaviourController
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Author: Tsegazeab Taye Tefferi, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Email: ttefferi@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Date: April 08, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Version: v1.0
\end{verbatim}}


\end{description}

\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:behaviour_controller_unit_testing}


\begin{description}
\item[\checkboxDashed] A unit test application named {\small \verb+behaviourControllerLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+behaviourControllerLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+behaviourControllerLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+behaviourController+} being tested outputs the copyright message on startup:
\begin{verbatim}
behaviourController: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+behaviourController+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
behaviourController: start-up.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+behaviourController+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
behaviourController: running.
\end{verbatim}

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+behaviourControllerTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 
  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:behaviour_controller_system_testing}
%  
%No content yet.



\newpage
%%%%%%Map Generation UNIT TEST
 \subsection{Behavior Controller Unit test} 
%===========================================
\label{subsection:behaviour_controller_test}


\subsubsection{Files and Directories}
%===============================================================
\label{subsubsection:behaviour_controller_test_files}
 
 \begin{description}
\item[\checkboxChecked] Files are stored in a subdirectory named \textbf{behaviourControllerTest}. 

\item[\checkboxChecked] The \textbf{behaviourControllerTest} directory has seven sub-directories:  {\small \verb+config+},   {\small \verb+data+}, \\  {\small \verb+include/behaviourControllerTest+}, {\small \verb+launch+}, {\small \verb+msg+}, {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+behaviourControllerTestConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+behaviourControllerTestConfiguration.ini+} contains the key-value pairs that set the component parameters.
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains one file, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+behaviorControllerTestOutput.dat+} 
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/behaviourControllerTest+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+behaviourControllerTestInterface.h+}  
\end{description} 


\item[\checkboxChecked] The  {\small \verb+launch+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxDashed] {\small \verb+behaviourControllerTestLaunchRobot.launch+}  
\item[\checkboxChecked] {\small \verb+behaviourControllerTestLaunchTestHarness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+overtAttentionMonde.msg+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+behaviourControllerTestApplication.cpp+}  
\item[\checkboxChecked] {\small \verb+behaviourControllerTestDriver.cpp+}  
\item[\checkboxChecked]  {\small \verb+behaviourControllerTestImplementation.cpp+}  
\item[\checkboxChecked]  {\small \verb+behaviourControllerTestStub.cpp+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains nine files, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+animateBehaviorSetActivation.srv+}  
\item[\checkboxChecked] {\small \verb+gestureExecutionPerformGesture.srv+}  
\item[\checkboxChecked] {\small \verb+overtAttentionSetMode.srv+}  
\item[\checkboxChecked] {\small \verb+robotLocalizationSetPose.srv+}  
\item[\checkboxChecked] {\small \verb+robotNavigationSetGoal.srv+}  
\item[\checkboxChecked] {\small \verb+speechEventSetLanguage.srv+}  
\item[\checkboxChecked] {\small \verb+speechEventSetStatus.srv+}  
\item[\checkboxChecked] {\small \verb+tabletEventPromptAndGetResponse.srv+}  
\item[\checkboxChecked] {\small \verb+textToSpeechSayText.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+behaviourControllerTest+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the test. 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+behaviourControllerTest+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+behaviourControllerTest+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+unit_tests+} package .

\end{description}


 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:behaviour_controller_test_documentation_standards}  

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+behaviourControllerTestApplication.cpp+}  
{\small \begin{verbatim}
/* behaviourControllerTestApplication.cpp
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+behaviourControllerTestDriver.cpp+}  
{\small \begin{verbatim}
/* behaviorControllerTestDriver.cpp   Source code for the simulated topics 
(drivers)
 *
 * Author: Tsegazeab Taye Tefferi
 * Date: April 25, 2025
 * Version: 1.0
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */
\end{verbatim} }

%\newpage
\item[\checkboxChecked]  {\small \verb+behaviourControllerTestImplementation.cpp+}  
{\small \begin{verbatim}
/* behaviorControllerTestImplementation.cpp   Source code for the methods used 
by behaviiorControllerTestApplication
 *
 * Author: Tsegazeab Taye Tefferi
 * Date: April 25, 2025
 * Version: 1.0
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */

\end{verbatim} }

%\newpage
\item[\checkboxChecked] {\small \verb+behaviourControllerTestStub.cpp+}  
{\small \begin{verbatim}
/* behaviorControllerTestStub.cpp   Source code for the simulated services 
(stubs)
 *
 * Author: Tsegazeab Taye Tefferi
 * Date: April 25, 2025
 * Version: 1.0
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 *
 * This project is funded by the African Engineering and Technology Network 
 (Afretec) Inclusive Digital Transformation Research Grant Programme.
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 *
 */
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+behaviourControllerTestInterface.h+}   
{\small \begin{verbatim}
/* behaviorControllerTestInterface.h - interface file for 
behaviorControllerTestApplication and behaivorControllerTestImplementation
*
* Author: Tsegazeab Taye Tefferi
* Date: April 20, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }



\end{description} 
% \blank
%~
%\blank
%

\noindent The {\small \verb+behaviourControllerTestApplication.cpp+} file contains a documentation comment with the following subsections:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* behaviourControllerTestApplication.cpp
* <detailed functional description>
* This module is responsible for running the tests on the behaviorController 
ROS node
* The tests will check if all the action and condition nodes of the
 behaviorController are communicating
* and processing the data they receive as expected
*
\end{verbatim}}

%\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Libraries
* Standard libraries
- std::string, std::vector, std::fstream
* ROS libraries
- ros/ros.h, ros/package.h
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
 *
 * Command-line Parameters
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters

* Key                   |     Value 
* --------------------- |     -------------------
* verboseMode  `        |      <true/false - enables/disables the display of 
                                           diagnostic messages>
* failureRate           |      the rate at which service calls and topics 
                             will provide a failed or not successful response
* arrivalRate           |      the rate at wich an event occurs (valid only 
                            for the driver functions)

\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Published Topics and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxCrossed] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
  *
* None
* 
\end{verbatim}}

\item[\checkboxCrossed] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
 *
 * None
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Output Data Files
*
* behaviorControllerTestOutput.dat
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
 *
 * behaviourControllerTestConfiguration.ini
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Example Instantiation of the Module
*
* roslaunch unit_tests behaviorControllerLaunchTestHarness
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Author: Tsegazeab Taye Tefferi, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Email: ttefferi@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Date: April 20, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}

\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:behaviour_controller_test_unit_testing}


\begin{description}
\item[\checkboxChecked] A unit test application named {\small \verb+behaviourControllerTestLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+behaviourControllerTestLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+behaviourControllerTestLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] The {\small \verb+behaviourControllerTestLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+behaviourControllerTestLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxChecked] The {\small \verb+behaviourControllerTestLaunchTestHarness.launch+} file  launches the component being tested.

\newpage
\item[\checkboxChecked]  The {\small \verb+behaviourControllerTest+} being used for test outputs the copyright message on startup:
\begin{verbatim}
behaviourControllerTest: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+behaviourControllerTest+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
behaviourControllerTest: start-up.
\end{verbatim}

\item[\checkboxDashed]  The {\small \verb+behaviourController+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
behaviourControllerTest: running.
\end{verbatim}

\item[\checkboxChecked] The {\small \verb+behaviourControllerTestLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+behaviourControllerLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxChecked] The {\small \verb+behaviourControllerTestLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+behaviourControllerTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 



\newpage
\section{D5.5.1.1 Gesture Execution} 
\subsection{Gesture Execution} 
%===========================================
\label{subsection:gesture_execution}

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{gestureExecution}. Refer to Deliverable D3.1 System Architecture for details of the ROS package names and the associated ROS nodes.

\item[\checkboxChecked] The \textbf{gestureExecution} directory has six sub-directories:  {\small \verb+config+},   {\small \verb+data+},   {\small \verb+include/gestureExecution+}, {\small \verb+msg+},  {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+gestureExecutionConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains eight files, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+gestureDescriptors.dat+}  
\item[\checkboxChecked] {\small \verb+lArmShakeGestureDescriptors.dat+}  
\item[\checkboxChecked] {\small \verb+lArmWelcomeGestureDescriptors.dat+}  
\item[\checkboxChecked] {\small \verb+pepperTopics.dat+}  
\item[\checkboxChecked] {\small \verb+rArmShakeGestureDescriptors.dat+}  
\item[\checkboxChecked] {\small \verb+rArmWelcomeGestureDescriptors.dat+}  
\item[\checkboxChecked] {\small \verb+simulatorTopics.dat+}  
\item[\checkboxChecked] {\small \verb+waveGestureDescriptors.dat+}  
\item[\checkboxChecked] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/gestureExecution+} directory contains two files, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionInterface.h+}  
\item[\checkboxChecked] {\small \verb+pepperKinematicsUtilitiesInterface.h+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+Gesture.msg+}  
\end{description} 


%\item[\checkboxDashed] The  {\small \verb+launch+} directory contains three files, named as follows.\\
%\noindent The launch files are placed in the {\small \verb+unit_tests+} package and unnecessary here.
%\begin{description}
%\item[\checkboxDashed] {\small \verb+gestureExecutionLaunchRobot.launch+}  
%\item[\checkboxDashed] {\small \verb+gestureExecutionLaunchSimulator.launch+}  
%\item[\checkboxDashed] {\small \verb+gestureExecutionLaunchTestHarness.launch+}
%\end{description} 
\newpage
\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionApplication.cpp+}  
\item[\checkboxChecked]  {\small \verb+gestureExecutionImplementation.cpp+}  
\item[\checkboxChecked]  {\small \verb+pepperKinematicsUtilitiesImplementation.cpp+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains one files, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+performGesture.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+gestureExecution+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the node 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+gestureExecution+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+gestureExecution+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+cssr_system+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:gesture_execution_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+gestureExecutionApplication.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionApplication.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked]  {\small \verb+gestureExecutionImplementation.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionImplementation.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
* This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+pepperKinematicsUtilitiesImplementation.cpp+}  
{\small \begin{verbatim}
/* pepperKinematicsUtilitiesImplementation.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
* This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked] {\small \verb+gestureExecutionInterface.h+}   
{\small \begin{verbatim}
/* gestureExecutionInterface.h
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+pepperKinematicsUtilitiesInterface.h+}   
{\small \begin{verbatim}
/* pepperKinematicsUtilitiesInterface.h
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank
%
%\newpage
\noindent The {\small \verb+gestureExecutionApplication.cpp+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* gestureExecutionApplication.cpp
*
* This module is responsible for hosting the service that executes the gestures
   on the robot. 
* The module receives the gesture type, gesture ID, gesture duration, 
   bow/nod angle, and the location in the world to pay attention/point to in 
   x, y, z coordinates.
* The module then executes the gesture based on the received parameters. 
*
* The module supports the execution of deictic, iconic, symbolic, bow, and 
   nod gestures.
* The iconic gestures currently supported are welcome and wave (goodbye) gestures. 
* 
* The module also supports the selection of the implementation platform 
   (simulator or robot) and the interpolation type (linear or biological motion).
* 
* The module is implemented as a ROS service that receives the gesture parameters 
* and returns the status of the gesture execution.
*
* The gestures could either be executed using linear velocity interpolation or
   a model of biological motion (minimum-jerk model).
*
* The module subscribes to the /sensor_msgs/joint_states topic to receive 
   the joint states of the robot.
* The module also subscribes to the /robotLocalization/pose topic to receive 
   the coordinates of the robot in the world.
* 
* The module is implemented in C++ and uses the ROS libraries for communication 
   with the robot.
* The module is part of the CSSR4A package and is used to execute gestures 
    on the robot.
*
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
* Standard libraries
- std::string, std::vector, std::fstream, std::pow, std::sqrt, std::abs
* ROS libraries
- ros/ros.h, ros/package.h, actionlib/client/simple_action_client.h, 
  control_msgs/FollowJointTrajectoryAction.h, geometry_msgs/Twist.h
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
*
* Command-line Parameters
*
* None
*
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters

* Key                   |     Value 
* --------------------- |     -------------------
* platform                    robot
* interpolation               biological
* gestureDescriptors          gestureDescriptors.dat
* simulatorTopics             simulatorTopics.dat
* robotTopics                 pepperTopics.dat
* verboseMode                 true
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
*
* /sensor_msgs/joint_states
* /robotLocalization/pose
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
* Published Topics and Message Types
*
* None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
 * 
* /overtAttention/set_mode
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
 *
* /gestureExecution/perform_gesture
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
*
* pepperTopics.dat
* simulatorTopics.dat
* gestureDescriptors.dat
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Output Data Files
*
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
*
* gestureExecutionConfiguration.ini
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
*
* rosrun gestureExecution perform_gesture
*
* The clients can invoke the service by providing the gesture type, gesture ID, 
   gesture duration, bow_nod angle, 
* and the location in the world to pay attention/point to in x, y, z coordinates.
* The service will execute the gesture based on the received parameters and 
   return the status of the gesture execution.
*
* Examples of calling the service is shown below:
* ----- rosservice call /perform_gesture -- deictic 01 3000 25 3.6 2.5 0.82
* This will execute a pointing gesture with a duration of 3000 ms, and the 
   location in the world to point to in x, y, z coordinates.
*
* ----- rosservice call /perform_gesture -- bow 01 3000 25 3.6 2.5 0.82
* This will execute a pointing gesture with a duration of 3000 ms, and bow at an 
   angle of 45 degrees.
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author:  Adedayo Akinade, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email:   aakinade@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date:  January 10, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:gesture_execution_unit_testing}



\begin{description}
\item[\checkboxDashed] A unit test application named {\small \verb+gestureExecutionLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+gestureExecutionLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+gestureExecutionLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] The {\small \verb+gestureExecutionLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+gestureExecutionLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+gestureExecutionLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+gestureExecution+} being tested outputs the copyright message on startup:
\begin{verbatim}
gestureExecution: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+gestureExecution+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
gestureExecution: start-up.
gestureExecution: subscribed to /topicName.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+gestureExecution+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
gestureExecution: running.
\end{verbatim}

\item[\checkboxDashed] The {\small \verb+gestureExecutionLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+gestureExecutionLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+gestureExecutionLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+gestureExecutionTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 


  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:gesture_execution_system_testing}
%  
%No content yet.


%%%%%%GESTURE EXECUTION UNIT TEST
 \subsection{Gesture Execution Unit test} 
%===========================================
\label{subsection:gesture_execution_test}


\subsubsection{Files and Directories}
%===============================================================
\label{subsubsection:gesture_execution_test_files}
 
 \begin{description}
\item[\checkboxChecked] Files are stored in a subdirectory named \textbf{gestureExecutionTest}. 

\item[\checkboxChecked] The \textbf{gestureExecutionTest} directory has six sub-directories:  {\small \verb+config+},   {\small \verb+data+}, \\  {\small \verb+include/gestureExecutionTest+}, {\small \verb+launch+},  {\small \verb+src+}, and {\small \verb+srv+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionTestConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+gestureExecutionTestConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains three files, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionTestOutput.dat+}  
\item[\checkboxChecked] {\small \verb+pepperTopics.dat+}   
\item[\checkboxChecked] {\small \verb+simulatorTopics.dat+}  
\item[\checkboxChecked] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/gestureExecutionTest+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionTestInterface.h+}  
\end{description} 


\item[\checkboxChecked] The  {\small \verb+launch+} directory contains three files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionLaunchRobot.launch+}  
\item[\checkboxChecked] {\small \verb+gestureExecutionLaunchSimulator.launch+}  
\item[\checkboxChecked] {\small \verb+gestureExecutionLaunchTestHarness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains four source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+gestureExecutionTestApplication.cpp+}  
\item[\checkboxChecked] {\small \verb+gestureExecutionTestDriver.cpp+}  
\item[\checkboxChecked]  {\small \verb+gestureExecutionTestImplementation.cpp+}  
\item[\checkboxChecked]  {\small \verb+gestureExecutionTestStub.cpp+}  
\end{description} 

\item[\checkboxChecked] The  {\small \verb+srv+} directory contains two files, named:
\begin{description}
\item[\checkboxChecked] {\small \verb+setMode.srv+}  
\item[\checkboxChecked] {\small \verb+setPose.srv+}  
\end{description} 

\item[\checkboxChecked] The {\small \verb+gestureExecutionTest+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the test. 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+gestureExecutionTest+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+gestureExecutionTest+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+unit_tests+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:gesture_execution_test_documentation_standards}  

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+gestureExecutionTestApplication.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionTestApplication.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked]  {\small \verb+gestureExecutionTestImplementation.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionImplementation.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+gestureExecutionTestInterface.h+}   
{\small \begin{verbatim}
/* gestureExecutionTestInterface.h
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\newpage
\item[\checkboxChecked] {\small \verb+gestureExecutionTestDriver.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionTestDriver.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+gestureExecutionTestStub.cpp+}  
{\small \begin{verbatim}
/* gestureExecutionTestStub.cpp
 *
 * Author: Adedayo Akinade
 * Date: January 10, 2025
 * Version: v1.0
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\end{description} 
% \blank
%~
%\blank
%
%\newpage
\noindent The {\small \verb+gestureExecutionTestApplication.cpp+} file contains a documentation comment with the following subsections:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* gestureExecutionTestApplication.cpp
*
* This module is responsible for running the tests on the gesture execution node.
* The tests are run using Google Test and the results are written to a file. 
* The module tests the iconic, deictic, bow, nod, and symbolic gestures.
*
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
* Standard libraries
- std::string, std::vector, std::fstream, std::pow, std::sqrt, std::abs
* ROS libraries
- ros/ros.h, ros/package.h, actionlib/client/simple_action_client.h, 
  control_msgs/FollowJointTrajectoryAction.h, geometry_msgs/Twist.h
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
*
* Command-line Parameters
*
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
* Configuration File Parameters

* Key                   |     Value 
* --------------------- |     -------------------
* platform              |     robot
* iconic                      true
* deictic                     true
* bow                         true
* nod                         true
* symbolic                    false
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
* Published Topics and Message Types
* 
* /pepper/cmd_vel                geometry_msgs/Twist
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
  *
* /gestureExecution/perform_gesture
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
*
* None
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Output Data Files
*
* gestureExecutionTestOutput.dat
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
*
* gestureExecutionTestConfiguration.ini
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
*
* rosrun unit_tests gestureExecutionTest
*
* The launch file for the gesture execution unit tests is 
   gestureExecutionTestLaunchTestHarness.launch.
*
* roslaunch unit_tests gestureExecutionTestLaunchTestHarness.launch
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author:  Adedayo Akinade, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email:   aakinade@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date:  January 10, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:gesture_execution_test_unit_testing}


\begin{description}
\item[\checkboxChecked] A unit test application named {\small \verb+gestureExecutionTestLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+gestureExecutionTestLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+gestureExecutionTestLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] The {\small \verb+gestureExecutionTestLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+gestureExecutionTestLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxChecked] The {\small \verb+gestureExecutionTestLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+gestureExecutionTest+} being tested outputs the copyright message on startup:
\begin{verbatim}
gestureExecutionTest: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\newpage
\item[\checkboxChecked]  The {\small \verb+gestureExecutionTest+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
gestureExecution: start-up.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+gestureExecutionTest+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
gestureExecutionTest: running.
\end{verbatim}

\item[\checkboxChecked] The {\small \verb+gestureExecutionTestLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+gestureExecutionTestLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxChecked] The {\small \verb+gestureExecutionTestLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+gestureExecutionTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 

  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:gesture_execution_test_system_testing}
%  
%No content yet.



\newpage
\section{D5.5.3 Environment Map Generation} 
\subsection{Map Generation} 
%===========================================
\label{subsection:map_generation}

\subsubsection{Files and Directories}
%===============================================================
 
 \begin{description}
\item[\checkboxChecked] Files for a single component are stored in a subdirectory named \textbf{mapGeneration}.

\item[\checkboxChecked] The \textbf{mapGeneration} directory has four sub-directories:  {\small \verb+config+},   {\small \verb+data+},   {\small \verb+include/mapGeneration+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+mapGenerationConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+mapGenerationConfiguration.ini+} contains the key-value pairs that set the component parameters.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains four files, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+configurationSpaceMap.png+}  
\item[\checkboxChecked] {\small \verb+environmentMap.png+}  
\item[\checkboxChecked] {\small \verb+mapGenerationInput.dat+}  
\item[\checkboxChecked] {\small \verb+obstacles.dat+}   
\item[\checkboxDashed] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/mapGeneration+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+mapGenerationInterface.h+}  
\end{description} 

%\item[\checkboxChecked] The  {\small \verb+msg+} directory contains one file, named:
%
%\begin{description}
%\item[\checkboxChecked] {\small \verb+Gesture.msg+}  
%\end{description} 


%\item[\checkboxDashed] The  {\small \verb+launch+} directory contains three files, named as follows.\\
%\noindent The launch files are placed in the {\small \verb+unit_tests+} package and unnecessary here.
%\begin{description}
%\item[\checkboxDashed] {\small \verb+mapGenerationLaunchRobot.launch+}  
%\item[\checkboxDashed] {\small \verb+mapGenerationLaunchSimulator.launch+}  
%\item[\checkboxDashed] {\small \verb+mapGenerationLaunchTestHarness.launch+}
%\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains two source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+mapGenerationApplication.cpp+}  
\item[\checkboxChecked]  {\small \verb+mapGenerationImplementation.cpp+}  
\end{description} 

%\item[\checkboxChecked] The  {\small \verb+srv+} directory contains one files, named:
%\begin{description}
%\item[\checkboxChecked] {\small \verb+performGesture.srv+}  
%\end{description} 

\item[\checkboxChecked] The {\small \verb+mapGeneration+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the node 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+mapGeneration+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+mapGeneration+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+cssr_system+} package .

\end{description}


 
 
\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:map_generation_documentation_standards}  
 
Refer to Deliverable D3.2, Appendix B (Mandatory Standards for Internal Source Code Documentation), for a definition of the standards on which this checklist is based.\\

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+mapGenerationApplication.cpp+}  
{\small \begin{verbatim}
/* mapGenerationApplication.cpp
 *
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

\item[\checkboxChecked]  {\small \verb+mapGenerationImplementation.cpp+}  
{\small \begin{verbatim}
/* mapGenerationImplementation.cpp
*
* Author: Birhanu Shimelis Girma
* Date: April 08, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }


\newpage
\item[\checkboxChecked] {\small \verb+mapGenerationInterface.h+}   
{\small \begin{verbatim}
/* mapGeneration.h
*
* Author: Birhanu Shimelis Girma
* Date: April 08, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank
%
%\newpage
\noindent The {\small \verb+mapGenerationApplication.cpp+} file contains a documentation comment:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* mapGenerationApplication.cpp
*
 * This node is responsible for running the environment map generation node.
 * The node is responsible for creation of empty maps, maps with obstacles,
 * and configuration space generation with robot radius value. 
*
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
 * Standard libraries - std::string, std::vector, std::fstream, std::chrono, 
 std::ctime
 * ROS libraries - ros/ros.h, ros/package.h
 * OpenCV libraries - opencv2/opencv.hpp, opencv2/highgui.hpp, 
 opencv2/imgproc.hpp
 * Google Test - gtest/gtest.h
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
*
* Command-line Parameters
*
* None
*
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration File Parameters
 * Key                        |     Value
 * ---------------------      |     -------------------
 *   mode                     |  CAD
 *   verboseMode              | true
 *   resolution               | 0.05
 *   robotRadius              | 0.3
 *   inputFile                | mapGenerationInput.dat
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
 *
 * None
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Published Topics and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
 * 
 * None
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
 *
 * None
 * 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
 *
 * mapGenerationInput.txt - Contains map dimensions and filenames
 * obstacles.txt - Contains obstacle definitions
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Output Data Files
 *
 * environmentMap.png - Generated workspace map
 * configurationSpaceMap.png - Generated configuration space map
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
 *
 * mapGenerationConfiguration.ini
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Example Instantiation of the Module
 *
 * rosrun cssr_system mapGeneration
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author: Biruh Girmash, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email: bgirmash@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date: June 05, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}


\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:map_generation_unit_testing}


\begin{description}
\item[\checkboxDashed] A unit test application named {\small \verb+mapGenerationLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+mapGenerationLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+mapGenerationLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+mapGeneration+} being tested outputs the copyright message on startup:
\begin{verbatim}
mapGeneration: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
 This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+mapGeneration+} being tested writes short messages to the terminal during the start-up phase to indicate the state of the node:
\begin{verbatim}
mapGeneration: start-up.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+mapGeneration+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
mapGeneration: running.
\end{verbatim}

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+mapGenerationTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 
  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:map_generation_system_testing}
%  
%No content yet.



\newpage
%%%%%%Map Generation UNIT TEST
 \subsection{Map Generation Unit test} 
%===========================================
\label{subsection:map_generation_test}

\subsubsection{Files and Directories}
%===============================================================
\label{subsubsection:map_generation_test_files}
 
 \begin{description}
\item[\checkboxChecked] Files are stored in a subdirectory named \textbf{mapGenerationTest}. 

\item[\checkboxChecked] The \textbf{mapGenerationTest} directory has five sub-directories:  {\small \verb+config+},   {\small \verb+data+}, \\  {\small \verb+include/mapGenerationTest+}, {\small \verb+launch+}, and {\small \verb+src+}.

\item[\checkboxChecked] The  {\small \verb+config+} directory contains one file, named.

\begin{description}
\item[\checkboxChecked] {\small \verb+mapGenerationTestConfiguration.ini+}  
\item[\checkboxChecked] The configuration file {\small \verb+mapGenerationTestConfiguration.ini+} contains the key-value pairs that set the component parameters. 
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+data+} directory contains four files and one sub-directory, named as follows.

\begin{description}
\item[\checkboxChecked] {\small \verb+/testOutput/+}  
\item[\checkboxChecked] {\small \verb+environmentMap.png+}   
\item[\checkboxChecked] {\small \verb+mapGenerationInput.dat+}
\item[\checkboxChecked] {\small \verb+testObstacles.dat+}  
\item[\checkboxChecked] {\small \verb+testRobotRadius.dat+} 
\item[\checkboxDashed] The topic files {\small \verb+pepperTopics.dat+}  and {\small \verb+simulatorTopics.dat+} contain the key-value pairs that set the topic names required by the component.  
\item[\checkboxChecked] Each key-value pair is written on a separate line.
\end{description} 

\item[\checkboxChecked] The  {\small \verb+include/mapGenerationTest+} directory contains one file, named:

\begin{description}
\item[\checkboxChecked] {\small \verb+mapGenerationTestInterface.h+}  
\end{description} 


\item[\checkboxChecked] The  {\small \verb+launch+} directory contains one file, named as follows.
\begin{description}
\item[\checkboxDashed] {\small \verb+mapGenerationLaunchRobot.launch+}  
\item[\checkboxDashed] {\small \verb+mapGenerationLaunchSimulator.launch+}  
\item[\checkboxChecked] {\small \verb+mapGenerationLaunchTestHarness.launch+}
\end{description} 

\item[\checkboxChecked] The  {\small \verb+src+} directory contains three source files, named as follows.
\begin{description}
\item[\checkboxChecked] {\small \verb+mapGenerationTestApplication.cpp+}  
\item[\checkboxChecked] {\small \verb+mapGenerationTestDriver.cpp+}  
\item[\checkboxChecked]  {\small \verb+mapGenerationTestImplementation.cpp+}  
\end{description} 

%\item[\checkboxChecked] The  {\small \verb+srv+} directory contains two files, named:
%\begin{description}
%\item[\checkboxChecked] {\small \verb+setMode.srv+}  
%\item[\checkboxChecked] {\small \verb+setPose.srv+}  
%\end{description} 

\item[\checkboxChecked] The {\small \verb+mapGenerationTest+} directory contains  a {\small \verb+README.md+} file with  instructions on how to run the test. 
%{\color{blue}in the case of \verb+unit_tests+ or run the node in the case of \verb+cssr_system+}.
\item[\checkboxChecked] The {\small \verb+mapGenerationTest+} directory contains  a {\small \verb+CMakeLists.txt+} build file.
\item[\checkboxChecked] The {\small \verb+mapGenerationTest+} directory contains  no {\small \verb+package.xml+} manifest file since it is a node within the {\small \verb+unit_tests+} package .

\end{description}

\subsubsection{Internal Source Code Documentation}
%===============================================================
\label{subsubsection:map_generation_test_documentation_standards}  

\noindent All source files contain a documentation comment that gives the copyright notice, as follows.
 
\begin{description}

\item[\checkboxChecked] {\small \verb+mapGenerationTestApplication.cpp+}  
{\small \begin{verbatim}
/* mapGenerationTestApplication.cpp
 * 
 * Copyright (C) 2023 CSSR4Africa Consortium
 * 
 * This project is funded by the African Engineering and Technology Network 
    (Afretec) 
 * Inclusive Digital Transformation Research Grant Programme. 
 *
 * Website: www.cssr4africa.org
 *
 * This program comes with ABSOLUTELY NO WARRANTY.
 */
\end{verbatim} }

%\newpage
\item[\checkboxChecked]  {\small \verb+mapGenerationTestImplementation.cpp+}  
{\small \begin{verbatim}
/* mapGenerationTestImplementation.cpp
*
* Author: Birhanu Shimelis Girma
* Date: April 08, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }

\item[\checkboxChecked] {\small \verb+mapGenerationTestInterface.h+}   
{\small \begin{verbatim}
/*  mapGenerationTestInterface.h
*
* Author: Birhanu Shimelis Girma
* Date: April 08, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }

%\newpage
\item[\checkboxChecked] {\small \verb+mapGenerationTestDriver.cpp+}  
{\small \begin{verbatim}
/*  mapGenerationTestDriver.cpp
*
* Author: Birhanu Shimelis Girma
* Date: April 08, 2025
* Version: v1.0
*
* Copyright (C) 2023 CSSR4Africa Consortium
*
* This project is funded by the African Engineering and Technology Network 
(Afretec) Inclusive Digital Transformation Research Grant Programme.
*
* Website: www.cssr4africa.org
*
* This program comes with ABSOLUTELY NO WARRANTY.
*/
\end{verbatim} }


\end{description} 
% \blank
%~
%\blank
%
%\newpage
\noindent The {\small \verb+mapGenerationTestApplication.cpp+} file contains a documentation comment with the following subsections:

\begin{description}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
/* mapGenerationTestApplication.cpp
 * This node is responsible for running tests on the environment map generation 
 node.
 * The tests are run using Google Test and the results are written to a log file.
 * The node tests the creation of empty maps, maps with obstacles, and 
 * configuration space generation with different robot radii values. It verifies 
 * that the map generation system correctly processes obstacle data, generates 
 * workspace maps, and createsconfiguration space maps that account for the 
 * robot's physical dimensions.
\end{verbatim}}

%\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Libraries
 * Standard libraries - std::string, std::vector, std::fstream, std::chrono, 
 std::ctime
 * ROS libraries - ros/ros.h, ros/package.h
 * OpenCV libraries - opencv2/opencv.hpp, opencv2/highgui.hpp, 
 opencv2/imgproc.hpp
 * Google Test - gtest/gtest.h
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Parameters
 *
 * Command-line Parameters
 *
 * None
\end{verbatim}}

\newpage
\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration File Parameters
 * Key                        |     Value
 * ---------------------      |     -------------------
 *   mode                     |  CAD
 *   verboseMode              | true
 *   resolution               | 0.05
 *   robotRadius              | 0.3
 *   inputFile                | mapGenerationInput.txt
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Subscribed Topics and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Published Topics and Message Types
 *
 * None
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Invoked
  *
* None
* 
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}                    
 * Services Advertised and Message Types
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Input Data Files
 *
 * mapGenerationInput.dat - Contains map dimensions and filenames
 * testObstacles.dat - Contains obstacle definitions
 * testRobotRadius.dat - Contains robot radius values for configuration space 
 * tests
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Output Data Files
 *
 * testOutput.logs - Log file containing test results
 * (Output maps are generated by the actual mapGeneration node in its data 
 directory)
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Configuration Files
 *
 * mapGenerationTestConfiguration.ini
\end{verbatim}}


\item[\checkboxChecked] 
 {\small 
\begin{verbatim} * Example Instantiation of the node
 *
 * rosrun unit_tests mapGenerationTest
 *
 * ...
 *
 * The launch file for the map generation unit tests is 
 mapGenerationLaunchTestHarness.launch.
 *
 * roslaunch unit_tests mapGenerationLaunchTestHarness.launch
 *
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Author: Biruh Girmash, Carnegie Mellon University Africa
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Email: bgirmash@andrew.cmu.edu
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Date: June 05, 2025
\end{verbatim}}

\item[\checkboxChecked] 
 {\small 
\begin{verbatim}
 * Version: v1.0
\end{verbatim}}


\end{description}

\subsubsection{Component Unit Testing}
%=============================================================
\label{subsubsection:map_generation_test_unit_testing}


\begin{description}
\item[\checkboxDashed] A unit test application named {\small \verb+mapGenerationLaunchRobot.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] A unit test application named {\small \verb+mapGenerationLaunchSimulator.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxChecked] A unit test application named {\small \verb+mapGenerationLaunchTestHarness.launch+} is provided in the {\small \verb+launch+} directory. 

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchRobot.launch+} file  launches the component being tested.

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchSimulator.launch+} file  launches the component being tested.

\item[\checkboxChecked] The {\small \verb+mapGenerationLaunchTestHarness.launch+} file  launches the component being tested.

\item[\checkboxChecked]  The {\small \verb+mapGenerationTest+} being used for test outputs the copyright message on startup: 
\begin{verbatim}
mapGenerationTest: v1.0
 
This project is funded by the African Engineering and Technology Network 
(Afretec) 
Inclusive Digital Transformation Research Grant Programme.
 
Website: www.cssr4africa.org
 
This program comes with ABSOLUTELY NO WARRANTY
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+mapGeneration+} being tested writes short messages to the terminal during the start-up phase to
 indicate the state of the node:
\begin{verbatim}
mapGenerationTest: start-up.
\end{verbatim}

\item[\checkboxChecked]  The {\small \verb+mapGeneration+} being tested periodically (every ten seconds) writes a short heartbeat message to
 the terminal to indicate the state of the node:
\begin{verbatim}
mapGenerationTest: running.
\end{verbatim}

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchRobot.launch+} file  connects the component a data source and a data sink on the physical robot, and produces the expected result as set out in the  {\small \verb+README.md+}  file.    This means this file launches the physical robot and all its sensors and actuators as required.

\item[\checkboxDashed] The {\small \verb+mapGenerationLaunchSimulator.launch+} file  connects the component a data source and a data sink on the simulator.   This means this file launches the simulator robot and all its sensors and actuators as required.

\item[\checkboxChecked] The {\small \verb+mapGenerationLaunchTestHarness.launch+} file  connects the component a data source and a data sink using a driver and a stub.   This means this file launches the required drivers and stubs, and the node being tested.

\item[\checkboxChecked] Unit test instructions are provided in a file named {\small \verb+README.md+} in the  {\small \verb+mapGenerationTest+} directory. 


\begin{description}

\item[\checkboxChecked] The instructions explain how the communication and computation functionality is validated by describing the (sink) output data that will be produced from the (source) input data.  

\item[\checkboxChecked] The instructions explain how the configuration functionality is validated by describing what changes in behaviour will occur if the values for the component parameters in the component configuration ({\small \verb+.ini+}) file are altered.

\end{description}

\end{description} 

  


  
%\subsubsection{System Testing}
%%=============================================================
%\label{subsubsection:overt_attention_test_system_testing}
%  
%No content yet.
 
\newpage
\bibliographystyle{unsrt}
%================================================================
%\bibliography{cognitive_systems.bib}                                 
%\addcontentsline{toc}{subsection}{References}



\pagebreak
\section*{Principal Contributors}
%===============================================================
\label{contributors}
\addcontentsline{toc}{subsection}{Principal Contributors}
The main authors of this deliverable are as follows (in alphabetical order).\\
Adedayo Akinade, Carnegie Mellon University Africa.\\
David Vernon, Carnegie Mellon University Africa.\\     

  

\newpage
\subsection*{Document History}
%================================================================
\addcontentsline{toc}{section}{Document History}
\label{document_history}

\begin{description}

\item [Version 1.0]~\\
First draft. \\
David Vernon. \\                               
25 July 2024.      

\item [Version 1.1]~\\
Updated the integration results for gestureExecution (Success). \\
Updated the integration results for animateBehaviour (Success). \\
Updated the integration results for overtAttention (Success). \\
Adedayo Akinade. \\                               
27 January 2025.   

\item [Version 1.2]~\\
Updated the integration results for all accepted software -- personDetection, faceDetection, soundDetection, speechEvent, behaviourController, and mapGeneration.
Adedayo Akinade. \\                               
30 June 2025.   


\end{description}

\end{document}

